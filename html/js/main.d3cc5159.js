!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="NM2d")}({"0Amw":function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;var s=n("rR20"),u=n("iZKT"),l=n("c2UE"),c=function(t){function e(){var e=t.call(this)||this;return e._isLoop=!0,e._toV3=!0,e._backStart=!0,e.once(egret.Event.ADDED_TO_STAGE,e.addToStage,e),e}return i(e,t),e.prototype.addToStage=function(){var t=this;document.ondragover=document.ondrop=function(t){t.preventDefault()},document.body.ondrop=function(e){e.preventDefault(),t.loadFile(e.dataTransfer.files[0])},this.initUI(),this.initVscEx()},e.prototype.initUI=function(){var t=this,e=new u.GUI({width:250}),n={btnPlay:this.clickBntPlay.bind(this),armatures:null,movements:null,loop:!0,back:!0,scale:1,mask:!1,fps:this.showFps.bind(this),setFps:60,bgColor:"#000000",type:"",size:"",toV3:!1};this._playCtrl=e.add(n,"btnPlay").name("播放"),this._armaturesCtrl=e.add(n,"armatures",[]).name("骨架").onChange(this.onArmatureChange.bind(this)),this._movementsCtrl=e.add(n,"movements",[]).name("动作").onChange(this.onMovementChange.bind(this)),e.add(n,"loop").name("循环").onChange(this.changeLoop.bind(this)),e.add(n,"back").name("返回").onChange(this.changeBackStart.bind(this)),this._scaleCtrl=e.add(n,"scale",.1,2,.1).name("缩放").onChange(this.changeScale.bind(this)),e.add(n,"mask").name("遮罩").onChange(this.changeMask.bind(this)),e.add(n,"fps").name("显示FPS"),e.add(n,"setFps",1,60,1).name("设置FPS").onChange(this.setFps.bind(this)),this._typeCtrl=e.add(n,"type").name("格式"),this._sizeCtrl=e.add(n,"size").name("尺寸"),e.addColor(n,"bgColor").name("底色").onChange(this.changeStageBgClr.bind(this)),e.add(n,"toV3").name("2.3转3.0").onChange(this.setV3.bind(this)),document.onkeydown=function(e){if(!t._movie)return!1;"w"===e.key||"ArrowUp"===e.key?t.moveY(-10):"s"===e.key||"ArrowDown"===e.key?t.moveY(10):"a"===e.key||"ArrowLeft"===e.key?t.moveX(-10):"d"!==e.key&&"ArrowRight"!==e.key||t.moveX(10)},this._stageBg=new egret.Shape,this.changeStageBgClr("#000000"),this.addChildAt(this._stageBg,0),this.stage.addEventListener(egret.Event.RESIZE,this.onResize,this),this.onResize()},e.prototype.initVscEx=function(){var t=this;"function"==typeof window.acquireVsCodeApi&&(this._vscode=window.acquireVsCodeApi(),window.addEventListener("message",(function(e){var n=e.data||{};switch(n.type){case"open_file":t.loadBase64(n.content,n.filename,n.skNames,n.texNames,n.texaNames)}})),this.sendVscodeMsg("preview_ready"))},e.prototype.sendVscodeMsg=function(t,e){this._vscode&&this._vscode.postMessage({type:t,data:e})},e.prototype.moveX=function(t){this._movie&&(this._movie.x+=t)},e.prototype.moveY=function(t){this._movie&&(this._movie.y+=t)},e.prototype.setV3=function(t){this._toV3=t},e.prototype.setFps=function(t){this.stage.frameRate=t},e.prototype.onResize=function(){this.x=.5*(this.stage.stageWidth-1024),this.scaleX=this.scaleY=Number(this._scaleCtrl.getValue())},e.prototype.changeMask=function(t){this.mask=t?new egret.Rectangle(0,0,1024,768):null},e.prototype.changeStageBgClr=function(t){this._stageBg.graphics.beginFill(parseInt(t.replace("#",""),16)),this._stageBg.graphics.drawRect(0,0,1024,768),this._stageBg.graphics.endFill()},e.prototype.changeBackStart=function(t){this._backStart=t},e.prototype.updateInfo=function(t){this._sizeCtrl.setValue(t||"")},e.prototype.changeScale=function(t){this._movie?(this._movie.scaleX=this._movie.scaleY=t,this.updateInfo("宽: "+this._movie.displayWidth.toFixed(0)+", 高: "+this._movie.displayHeight.toFixed(0))):this.updateInfo(""),this._bg&&(this._bg.scaleX=this._bg.scaleY=t)},e.prototype.changeLoop=function(t){this._isLoop=t,this.stopCurtMovie()},e.prototype.clickBntPlay=function(){this._movie&&(this._movie.isPlaying?this.stopCurtMovie():this.playCurtMovie())},e.prototype.onArmatureChange=function(t){this._curtArmature=t,this.refreshCurtMovie()},e.prototype.onMovementChange=function(t){this._movie&&(this._movie.curtMovement=t,this.stopCurtMovie())},e.prototype.updateSelectOptions=function(t,e){if(t&&t.__select&&e){var n;t.__select.options.length=0;for(var r=0,i=e;r<i.length;r++){var o=i[r];(n=document.createElement("option")).text=o,t.__select.add(n)}}},e.prototype.loadBase64=function(t,e,n,r,i){var o=this;if(!this._isLoading&&t){this._isLoading=!0,this.cleanFile();var a=l.decode(t);this._isLoading=!1,this.realCreate(a,e,n,r,i).catch((function(t){o.showError(""+t)}))}},e.prototype.loadFile=function(t){var e=this;if(!this._isLoading&&t){this._isLoading=!0,this.cleanFile();var n=new FileReader;n.onload=function(r){e._isLoading=!1,e.realCreate(n.result,t.name).catch((function(t){e.showError(""+t)}))},n.onerror=function(t){e._isLoading=!1,e.showError(""+t)},n.readAsArrayBuffer(t)}},e.prototype.cleanFile=function(){if(this.removeCurtMovie(),this._movieMap){for(var t in this._movieMap)this._movieMap[t]&&this._movieMap[t].dispose();this._movieMap=null}if(this._bg){this.contains(this._bg)&&this.removeChild(this._bg);var e=this._bg.texture;this._bg.texture=null,e.dispose(),this._bg=null}this._scaleCtrl.setValue(1),this._item&&(this._item.dispose(),this._item=null),this.onResize()},e.prototype.realCreate=function(t,e,n,r,i){return o(this,void 0,void 0,(function(){var o,u,l,c;return a(this,(function(a){switch(a.label){case 0:return this._item=new s.DragonBonesItem,[4,this._item.init(t,e,this._toV3,n,r,i)];case 1:for(a.sent(),this._typeCtrl.setValue(this._item.rawVersion),this._armatures=this._item.getArmatureNames(),this.updateSelectOptions(this._armaturesCtrl,this._armatures),this._movieMap={},this._curtArmature=null,l=0,c=this._armatures;l<c.length;l++)u=c[l],!this._curtArmature&&(u.indexOf("main")>-1||u.indexOf("skeleton_movie_1")>-1)&&(this._curtArmature=u,this._armaturesCtrl.setValue(u)),(o=this._item.createMovie(u))&&(this._movieMap[u]=o,o.clearFadeInTime(),o.stop());return this._curtArmature||(this._curtArmature=u,this._armaturesCtrl.setValue(u)),this.refreshCurtMovie(),[2]}}))}))},e.prototype.refreshCurtMovie=function(){this._movie&&this._movie.armatureName===this._curtArmature||(this.removeCurtMovie(),this._movie=this._movieMap[this._curtArmature],this._movie&&(this.updateSelectOptions(this._movementsCtrl,this._movie.movementList),this.addChild(this._movie),this.changeScale(1)))},e.prototype.removeCurtMovie=function(){this.stopCurtMovie(),this.contains(this._movie)&&this.removeChild(this._movie),this._movie=null},e.prototype.playCurtMovie=function(){this._movie&&(this._movie.onComplete.add(this.onPlayComplete,this),this._movie.play(1,40,this._backStart),this._playCtrl.name("停止"))},e.prototype.onPlayComplete=function(){this._isLoop?this._movie.play(1,40,this._backStart):(this._movie.onComplete.remove(this.onPlayComplete,this),this._playCtrl.name("播放"))},e.prototype.stopCurtMovie=function(){this._movie&&(this._movie.stop(!0),this._movie.onComplete.remove(this.onPlayComplete,this),this._playCtrl.name("播放"))},e.prototype.showFps=function(){var t=document.querySelectorAll(".egret-player");t&&t[0]&&t[0]["egret-player"]&&t[0]["egret-player"].player.displayFPS(!0,void 0,void 0,{bgAlpha:"0.3",size:12,textColor:"0xffffff",x:1,y:1})},e.prototype.showError=function(t){this.sendVscodeMsg("error_msg",t),console.error(t)},e}(egret.DisplayObjectContainer);e.App=c},"2LKJ":function(t,e,n){t.exports=c,c.Minimatch=h;var r={sep:"/"};try{r=n("33yf")}catch(t){}var i=c.GLOBSTAR=h.GLOBSTAR={},o=n("TuBq"),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var u=/\/+/;function l(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function c(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new h(e,n).match(t))}function h(t,e){if(!(this instanceof h))return new h(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(t,e){if(e||(e=this instanceof h?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}c.filter=function(t,e){return e=e||{},function(n,r,i){return c(n,t,e)}},c.defaults=function(t){if(!t||!Object.keys(t).length)return c;var e=c,n=function(n,r,i){return e.minimatch(n,r,l(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,l(t,r))},n},h.defaults=function(t){return t&&Object.keys(t).length?c.defaults(t).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(u)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},c.braceExpand=function(t,e){return f(t,e)},h.prototype.braceExpand=f,h.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,o="",u=!!n.nocase,l=!1,c=[],h=[],f=!1,p=-1,m=-1,_="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function v(){if(r){switch(r){case"*":o+="[^/]*?",u=!0;break;case"?":o+="[^/]",u=!0;break;default:o+="\\"+r}g.debug("clearStateChar %j %j",r,o),r=!1}}for(var y,b=0,w=t.length;b<w&&(y=t.charAt(b));b++)if(this.debug("%s\t%s %s %j",t,b,o,y),l&&s[y])o+="\\"+y,l=!1;else switch(y){case"/":return!1;case"\\":v(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,b,o,y),f){this.debug("  in class"),"!"===y&&b===m+1&&(y="^"),o+=y;continue}g.debug("call clearStateChar %j",r),v(),r=y,n.noext&&v();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}c.push({type:r,start:b-1,reStart:o.length,open:a[r].open,close:a[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!c.length){o+="\\)";continue}v(),u=!0;var x=c.pop();o+=x.close,"!"===x.type&&h.push(x),x.reEnd=o.length;continue;case"|":if(f||!c.length||l){o+="\\|",l=!1;continue}v(),o+="|";continue;case"[":if(v(),f){o+="\\"+y;continue}f=!0,m=b,p=o.length,o+=y;continue;case"]":if(b===m+1||!f){o+="\\"+y,l=!1;continue}if(f){var A=t.substring(m+1,b);try{RegExp("["+A+"]")}catch(t){var k=this.parse(A,d);o=o.substr(0,p)+"\\["+k[0]+"\\]",u=u||k[1],f=!1;continue}}u=!0,f=!1,o+=y;continue;default:v(),l?l=!1:!s[y]||"^"===y&&f||(o+="\\"),o+=y}f&&(A=t.substr(m+1),k=this.parse(A,d),o=o.substr(0,p)+"\\["+k[0],u=u||k[1]);for(x=c.pop();x;x=c.pop()){var E=o.slice(x.reStart+x.open.length);this.debug("setting tail",o,x),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",E,E,x,o);var T="*"===x.type?"[^/]*?":"?"===x.type?"[^/]":"\\"+x.type;u=!0,o=o.slice(0,x.reStart)+T+"\\("+E}v(),l&&(o+="\\\\");var S=!1;switch(o.charAt(0)){case".":case"[":case"(":S=!0}for(var O=h.length-1;O>-1;O--){var C=h[O],F=o.slice(0,C.reStart),P=o.slice(C.reStart,C.reEnd-8),I=o.slice(C.reEnd-8,C.reEnd),D=o.slice(C.reEnd);I+=D;var M=F.split("(").length-1,B=D;for(b=0;b<M;b++)B=B.replace(/\)[+*?]?/,"");var R="";""===(D=B)&&e!==d&&(R="$"),o=F+P+D+R+I}""!==o&&u&&(o="(?=.)"+o);S&&(o=_+o);if(e===d)return[o,u];if(!u)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var N=n.nocase?"i":"";try{var L=new RegExp("^"+o+"$",N)}catch(t){return new RegExp("$.")}return L._glob=t,L._src=o,L};var d={};c.makeRe=function(t,e){return new h(t,e||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===i?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},c.match=function(t,e,n){var r=new h(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},h.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(u),this.debug(this.pattern,"split",t);var i,o,a=this.set;for(this.debug(this.pattern,"set",a),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<a.length;o++){var s=a[o],l=t;if(n.matchBase&&1===s.length&&(l=[i]),this.matchOne(l,s,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,s=t.length,u=e.length;o<s&&a<u;o++,a++){this.debug("matchOne loop");var l,c=e[a],h=t[o];if(this.debug(e,c,h),!1===c)return!1;if(c===i){this.debug("GLOBSTAR",[e,c,h]);var f=o,d=a+1;if(d===u){for(this.debug("** at the end");o<s;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;f<s;){var p=t[f];if(this.debug("\nglobstar while",t,f,e,d,p),this.matchOne(t.slice(f),e.slice(d),n))return this.debug("globstar found match!",f,s,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",t,f,e,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",t,f,e,d),f!==s))}if("string"==typeof c?(l=r.nocase?h.toLowerCase()===c.toLowerCase():h===c,this.debug("string match",c,h,l)):(l=h.match(c),this.debug("pattern match",c,h,l)),!l)return!1}if(o===s&&a===u)return!0;if(o===s)return n;if(a===u)return o===s-1&&""===t[o];throw new Error("wtf?")}},"33yf":function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),a="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&a&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("8oxB"))},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"67KA":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.runEgret=void 0,e.runEgret=function(t,e){void 0===t&&(t="webgl"),void 0===e&&(e=0),egret.runEgret({renderMode:t,audioType:e,calculateCanvasScaleFactor:function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e}})}},"8oxB":function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HDXh:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return Y(j(e,t.length-n),t,n,r)}function w(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return w(t,e,n,r)}function A(t,e,n,r){return Y(U(e),t,n,r)}function k(t,e,n,r){return Y(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=z(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||P(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:j(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n("yLpj"))},NM2d:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("0Amw"),u=n("67KA"),l=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return i(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener((function(t){t.onUpdate=function(){}})),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame().catch((function(t){console.log(t)}))},e.prototype.runGame=function(){return o(this,void 0,void 0,(function(){return a(this,(function(t){return this.addChild(new s.App),[2]}))}))},e}(egret.DisplayObjectContainer);window.Main=l,window.onload=function(){u.runEgret()}},PPgj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Signal=void 0;var r=function(){function t(){this.memorize=!1,this.active=!0,this._bindings=[],this._prevParams=null,this._shouldPropagate=!0}return t.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},t.prototype._registerListener=function(t,e,n,r){var o,a=this._indexOfListener(t,n);if(-1!==a){if((o=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else o=new i(this,t,e,n,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},t.prototype._addBinding=function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},t.prototype._indexOfListener=function(t,e){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r]).getListener()===t&&n.thisObj===e)return r;return-1},t.prototype.has=function(t,e){return void 0===e&&(e=null),-1!==this._indexOfListener(t,e)},t.prototype.add=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,n)},t.prototype.addOnce=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,n)},t.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},t.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},t.prototype.getNumListeners=function(){return this._bindings.length},t.prototype.halt=function(){this._shouldPropagate=!1},t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var n,r=this._bindings.length;if(this.memorize&&(this._prevParams=t),r){n=this._bindings.slice(0),this._shouldPropagate=!0;do{r--}while(n[r]&&this._shouldPropagate&&!1!==n[r].execute(t))}}},t.prototype.forget=function(){this._prevParams=null},t.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},t.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},t}();e.Signal=r;var i=function(){function t(t,e,n,r,i){void 0===i&&(i=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=n,this.thisObj=r,this._signal=t,this.priority=i||0}return t.prototype.execute=function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.thisObj,n),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.thisObj):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.thisObj},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}()},PhtX:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SkeletonMovie=void 0;var o=n("PPgj"),a=n("VdlF"),s=function(t){function e(e){var n=t.call(this)||this;return n._time=0,n._delay=40,n._backStart=!1,n._armature=e,n._onComplete=new o.Signal,n.initArmature(),n}return i(e,t),e.prototype.initArmature=function(){this._armature&&(this._display=this._armature.display,this._display.disableBatch(),this.addChild(this._display),this._movementList=this._armature.animation.animationNames.concat(),this._curtMovement=this._movementList[0],this._childArmatureList=a.SkeletonUtil.getChildArmature(this._armature,!1),this._display.addDBEventListener(dragonBones.EventObject.COMPLETE,this.completeHandler,this))},e.prototype.completeHandler=function(){this.stop(this._backStart),this._onComplete.dispatch()},e.prototype.play=function(t,e,n){if(void 0===t&&(t=0),void 0===e&&(e=40),void 0===n&&(n=!1),this._armature&&!this._armature.animation.isPlaying){this._delay=e>0?e:40,this._backStart=n,t=Math.abs(t),this._time=0,egret.startTick(this.onTick,this),this._armature.animation.play(this._curtMovement,t);for(var r=0,i=this._childArmatureList.length;r<i;++r)this._childArmatureList[r].animation.animationNames.indexOf(this._curtMovement)>=0&&this._childArmatureList[r].animation.play(this._curtMovement,t)}},e.prototype.stop=function(t){if(void 0===t&&(t=!0),this._armature){if(egret.stopTick(this.onTick,this),t){this._armature.animation.play(this._curtMovement);for(var e=0,n=this._childArmatureList.length;e<n;++e)this._childArmatureList[e].animation.animationNames.indexOf(this._curtMovement)>=0&&this._childArmatureList[e].animation.play(this._curtMovement);this._armature.advanceTime(0);for(e=0,n=this._childArmatureList.length;e<n;++e)this._childArmatureList[e].advanceTime(0)}this._armature.animation.stop();for(e=0,n=this._childArmatureList.length;e<n;++e)this._childArmatureList[e].animation.stop()}},e.prototype.onTick=function(t){if(!this._armature)return!1;if(this._time||(this._time=t),this._pass=t-this._time,this._pass<this._delay)return!1;this._time=t;var e=this._pass/1e3;this._armature.advanceTime(e);for(var n=this._childArmatureList?this._childArmatureList.length:-1,r=0;r<n;++r)this._childArmatureList[r].advanceTime(e);return!1},Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._armature.animation.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._armature.animation.timeScale},set:function(t){this._armature.animation.timeScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"armatrue",{get:function(){return this._armature},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementList",{get:function(){return this._movementList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curtMovement",{get:function(){return this._curtMovement},set:function(t){-1!=this._movementList.indexOf(t)&&(this._curtMovement=t,this.stop())},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this.stop(!1),this._display&&(this._display.removeDBEventListener(dragonBones.EventObject.COMPLETE,this.completeHandler,this),this._display=null),this._armature&&(this._armature.dispose(),this._armature=null),this._childArmatureList&&(this._childArmatureList.length=0,this._childArmatureList=null),this._onComplete&&this._onComplete.dispose(),this._movementList=null},e.prototype.clearFadeInTime=function(){for(var t=0,e=this._childArmatureList.length;t<e;++t)a.SkeletonUtil.clearAnimationFadeInTime(this._childArmatureList[t].animation);a.SkeletonUtil.clearAnimationFadeInTime(this._armature.animation)},e.prototype.setChildArmatureLoop=function(t){for(var e=0,n=this._childArmatureList.length;e<n;++e)a.SkeletonUtil.setAnimationLoop(this._childArmatureList[e].animation,t)},Object.defineProperty(e.prototype,"armatureName",{get:function(){return this._armature?this._armature.name:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayWidth",{get:function(){return this._display?this._display.width*this.scaleX:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayHeight",{get:function(){return this._display?this._display.height*this.scaleY:0},enumerable:!1,configurable:!0}),e.SK_NAME_PREFIX="armatures/skeleton_movie_",e.SK_MOVEMENT_PREFIX="movie_",e}(egret.DisplayObjectContainer);e.SkeletonMovie=s},TuBq:function(t,e,n){var r=n("icBU"),i=n("kbA8");t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var o=[],a=i("{","}",e);if(!a||/\$$/.test(a.pre))return[e];var u,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body),_=l||h,g=a.body.indexOf(",")>=0;if(!_&&!g)return a.post.match(/,.*\}/)?(e=a.pre+"{"+a.body+s+a.post,t(e)):[e];if(_)u=a.body.split(/\.\./);else{if(1===(u=function t(e){if(!e)return[""];var n=[],r=i("{","}",e);if(!r)return e.split(",");var o=r.pre,a=r.body,s=r.post,u=o.split(",");u[u.length-1]+="{"+a+"}";var l=t(s);s.length&&(u[u.length-1]+=l.shift(),u.push.apply(u,l));return n.push.apply(n,u),n}(a.body)).length)if(1===(u=t(u[0],!1).map(f)).length)return(b=a.post.length?t(a.post,!1):[""]).map((function(t){return a.pre+u[0]+t}))}var v,y=a.pre,b=a.post.length?t(a.post,!1):[""];if(_){var w=c(u[0]),x=c(u[1]),A=Math.max(u[0].length,u[1].length),k=3==u.length?Math.abs(c(u[2])):1,E=p;x<w&&(k*=-1,E=m);var T=u.some(d);v=[];for(var S=w;E(S,x);S+=k){var O;if(h)"\\"===(O=String.fromCharCode(S))&&(O="");else if(O=String(S),T){var C=A-O.length;if(C>0){var F=new Array(C+1).join("0");O=S<0?"-"+F+O.slice(1):F+O}}v.push(O)}}else v=r(u,(function(e){return t(e,!1)}));for(var P=0;P<v.length;P++)for(var I=0;I<b.length;I++){var D=y+v[P]+b[I];(!n||_||D)&&o.push(D)}return o}(function(t){return t.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(u).split("\\.").join(l)}(t),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(o).join("\\").split(a).join("{").split(s).join("}").split(u).join(",").split(l).join(".")}function f(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function p(t,e){return t<=e}function m(t,e){return t>=e}},URgk:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n("YBdB"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},VdlF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkeletonUtil=void 0;var r=function(){function t(){}return t.getChildArmature=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);for(var r=e?[t]:[],i=0,o=t.getSlots();i<o.length;i++){var a=o[i];!a.childArmature||n&&a.childArmature.animation.lastAnimationName==this.MOVEMENTID_UNNAMED||(r=r.concat(this.getChildArmature(a.childArmature,!0,n)))}return r},t.clearAnimationFadeInTime=function(t){if(t)for(var e=0,n=t.animationNames;e<n.length;e++){var r=n[e];t.animations[r].fadeInTime=0}},t.setAutoTween=function(t,e){!t||Number(t.version)>=4||t&&Array.isArray(t.armature)&&t.armature.forEach((function(t){Array.isArray(t.animation)&&t.animation.forEach((function(t){"autoTween"in t&&(t.autoTween=e)}))}))},t.setAnimationLoop=function(t,e){if(t){t.animationConfig.playTimes=e,t.lastAnimationState.playTimes=e;for(var n=0,r=t.animationNames;n<r.length;n++){var i=r[n];t.animations[i].playTimes=e}}},t.MOVEMENTID_UNNAMED="unnamed",t}();e.SkeletonUtil=r},YBdB:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,r(u),u++},f.clearImmediate=d}function d(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n("yLpj"),n("8oxB"))},c2UE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),o=0;o<r.length;o++)i[r.charCodeAt(o)]=o;e.encode=function(t){for(var e=new Uint8Array(t),n=e.length,i="",o=0;o<n;o+=3)i+=r[e[o]>>2],i+=r[(3&e[o])<<4|e[o+1]>>4],i+=r[(15&e[o+1])<<2|e[o+2]>>6],i+=r[63&e[o+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e=.75*t.length,n=t.length,r=0,o=0,a=0,s=0,u=0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);for(var l=new ArrayBuffer(e),c=new Uint8Array(l),h=0;h<n;h+=4)o=i[t.charCodeAt(h)],a=i[t.charCodeAt(h+1)],s=i[t.charCodeAt(h+2)],u=i[t.charCodeAt(h+3)],c[r++]=o<<2|a>>4,c[r++]=(15&a)<<4|s>>2,c[r++]=(3&s)<<6|63&u;return l}},fFgC:function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";function r(t){return(t=(t+Math.PI)%e.PI_D)+(t>0?-Math.PI:Math.PI)}Object.defineProperty(e,"__esModule",{value:!0}),e.helpPointB=e.helpPointA=e.helpTransformB=e.helpTransformA=e.helpMatrixB=e.helpMatrixA=e.Rectangle=e.Point=e.ColorTransform=e.Transform=e.Matrix=e.multiply=e.distance=e.normalizeDegree=e.normalizeRadian=e.DEG_RAD=e.RAD_DEG=e.PI_Q=e.PI_H=e.PI_D=void 0,e.PI_D=2*Math.PI,e.PI_H=Math.PI/2,e.PI_Q=Math.PI/4,e.RAD_DEG=180/Math.PI,e.DEG_RAD=Math.PI/180,e.normalizeRadian=r,e.normalizeDegree=function(t){return(t=(t+180)%360)+(t>0?-180:180)},e.distance=function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},e.multiply=function(t,e,n){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)};var i=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o}return t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.copyFromArray=function(t,e){return void 0===e&&(e=0),this.a=t[e],this.b=t[e+1],this.c=t[e+2],this.d=t[e+3],this.tx=t[e+4],this.ty=t[e+5],this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.b,o=this.c,a=this.d,s=this.tx,u=this.ty;return this.a=r*e-i*n,this.b=r*n+i*e,this.c=o*e-a*n,this.d=o*n+a*e,this.tx=s*e-u*n,this.ty=s*n+u*e,this},t.prototype.concat=function(t){var e=this.a*t.a,n=0,r=0,i=this.d*t.d,o=this.tx*t.a+t.tx,a=this.ty*t.d+t.ty;return 0===this.b&&0===this.c||(e+=this.b*t.c,n+=this.b*t.d,r+=this.c*t.a,i+=this.c*t.b),0===t.b&&0===t.c||(n+=this.a*t.b,r+=this.d*t.c,o+=this.ty*t.c,a+=this.tx*t.b),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=this.ty;if(0===e&&0===n)return this.b=this.c=0,0===t||0===r?this.a=this.b=this.tx=this.ty=0:(t=this.a=1/t,r=this.d=1/r,this.tx=-t*i,this.ty=-r*o),this;var a=t*r-e*n;if(0===a)return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this;a=1/a;var s=this.a=r*a;return e=this.b=-e*a,n=this.c=-n*a,r=this.d=t*a,this.tx=-(s*i+n*o),this.ty=-(e*i+r*o),this},t.prototype.transformPoint=function(t,e,n,r){void 0===r&&(r=!1),n.x=this.a*t+this.c*e,n.y=this.b*t+this.d*e,r||(n.x+=this.tx,n.y+=this.ty)},t}();e.Matrix=i;var o=function(){function t(t,e,n,r,i,o,a,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===o&&(o=1),void 0===a&&(a=0),void 0===s&&(s=0),this.x=t,this.y=e,this.skX=n,this.skY=r,this.scX=i,this.scY=o,this.pX=a,this.pY=s}return t.prototype.toString=function(){return this.x+"_"+this.y+"_"+this.skX+"_"+this.skY+"_"+this.scX+"_"+this.scY},t.prototype.toFixed=function(){this.x=Number(this.x.toFixed(2)),this.y=Number(this.y.toFixed(2)),this.skX=Number(this.skX.toFixed(2)),this.skY=Number(this.skY.toFixed(2)),this.scX=Number(this.scX.toFixed(4)),this.scY=Number(this.scY.toFixed(4))},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.skX=t.skX,this.skY=t.skY,this.scX=t.scX,this.scY=t.scY,this},t.prototype.equal=function(t){return this.x===t.x&&this.y===t.y&&this.skX===t.skY&&this.skY===t.skY&&this.scX===t.scX&&this.scY===t.scY},t.prototype.identity=function(){return this.x=this.y=this.skX=this.skY=0,this.scX=this.scY=1,this},t.prototype.fromMatrix=function(t){this.x=t.tx,this.y=t.ty;var n=this.scX,i=this.scY,o=Math.atan(-t.c/t.d),a=Math.atan(t.b/t.a);return this.scX=a>-e.PI_Q&&a<e.PI_Q?t.a/Math.cos(a):t.b/Math.sin(a),this.scY=o>-e.PI_Q&&o<e.PI_Q?t.d/Math.cos(o):-t.c/Math.sin(o),n>=0&&this.scX<0&&(this.scX=-this.scX,a=r(a-Math.PI)),i>=0&&this.scY<0&&(this.scY=-this.scY,o=r(o-Math.PI)),this.skX=o*e.RAD_DEG,this.skY=a*e.RAD_DEG,this},t.prototype.toMatrix=function(t){var n=this.skX*e.DEG_RAD,r=this.skY*e.DEG_RAD;return t.a=Math.cos(r)*this.scX,t.b=Math.sin(r)*this.scX,t.c=-Math.sin(n)*this.scY,t.d=Math.cos(n)*this.scY,t.tx=this.x,t.ty=this.y,this},t}();e.Transform=o;var a=function(){function t(t,e,n,r,i,o,a,s){void 0===t&&(t=100),void 0===e&&(e=100),void 0===n&&(n=100),void 0===r&&(r=100),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),this.aM=t,this.rM=e,this.gM=n,this.bM=r,this.aO=i,this.rO=o,this.gO=a,this.bO=s}return t.prototype.toString=function(){return this.aM+"_"+this.rM+"_"+this.gM+"_"+this.bM+"_"+this.aO+"_"+this.rO+"_"+this.gO+"_"+this.bO},t.prototype.toFixed=function(){this.aM=Math.round(this.aM),this.rM=Math.round(this.rM),this.gM=Math.round(this.gM),this.bM=Math.round(this.bM),this.aO=Math.round(this.aO),this.rO=Math.round(this.rO),this.gO=Math.round(this.gO),this.bO=Math.round(this.bO)},t.prototype.copyFrom=function(t){this.aM=t.aM,this.rM=t.rM,this.gM=t.gM,this.bM=t.bM,this.aO=t.aO,this.rO=t.rO,this.gO=t.gO,this.bO=t.bO},t.prototype.copyFromRGBA=function(t){this.rM=Math.round(((4278190080&t)>>>24)/255*100),this.gM=Math.round(((16711680&t)>>>16)/255*100),this.bM=Math.round(((65280&t)>>>8)/255*100),this.aM=Math.round((255&t)/255*100)},t.prototype.identity=function(){this.aM=this.rM=this.gM=this.bM=100,this.aO=this.rO=this.gO=this.bO=0},t.prototype.equal=function(t){return this.aM===t.aM&&this.rM===t.rM&&this.gM===t.gM&&this.bM===t.bM&&this.aO===t.aO&&this.rO===t.rO&&this.gO===t.gO&&this.bO===t.bO},t}();e.ColorTransform=a;var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.toString=function(){return"[object Point x: "+this.x+" y: "+this.y+" ]"},t.prototype.clear=function(){this.x=this.y=0},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.setTo=function(t,e){return this.x=t,this.y=e,this},t.prototype.polar=function(t,e){return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this},t}();e.Point=s;var u=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=n,this.height=r}return t.prototype.toString=function(){return"[object Rectangle x: "+this.x+" y: "+this.y+" width: "+this.width+" height: "+this.height+" ]"},t.prototype.toFixed=function(){this.x=Number(this.x.toFixed(2)),this.y=Number(this.y.toFixed(2)),this.width=Number(this.width.toFixed(2)),this.height=Number(this.height.toFixed(2))},t.prototype.clear=function(){this.x=this.y=this.width=this.height=0},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.setTo=function(t,e,n,r){return this.x=t,this.y=e,this.width=n,this.height=r,this},t}();e.Rectangle=u,e.helpMatrixA=new i,e.helpMatrixB=new i,e.helpTransformA=new o,e.helpTransformB=new o,e.helpPointA=new s,e.helpPointB=new s},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.compressConfig=e.copyConfig=e.Texture=e.TextureAtlas=e.IKConstraintFrame=e.SlotColorFrame=e.SlotDisplayFrame=e.SlotAllFrame=e.BoneRotateFrame=e.BoneAllFrame=e.ActionFrame=e.MutilpleValueFrame=e.DoubleValueFrame1=e.DoubleValueFrame0=e.SingleValueFrame1=e.SingleValueFrame0=e.TweenFrame=e.Frame=e.AnimationTimeline=e.SlotDeformTimeline=e.IKConstraintTimeline=e.ZOrderTimeline=e.SlotTimeline=e.BoneTimeline=e.TypeTimeline=e.Timeline=e.AnimationBinary=e.Animation=e.PolygonBoundingBoxDisplay=e.EllipseBoundingBoxDisplay=e.RectangleBoundingBoxDisplay=e.PathDisplay=e.SharedMeshDisplay=e.MeshDisplay=e.ArmatureDisplay=e.ImageDisplay=e.BoundingBoxDisplay=e.Display=e.SkinSlot=e.Skin=e.PathConstraint=e.IKConstraint=e.Slot=e.Surface=e.Bone=e.Armature=e.Canvas=e.Action=e.OldAction=e.UserData=e.DragonBones=e.BaseData=e.modifyFramesByPosition=e.mergeActionToAnimation=e.oldActionToNewAction=e.getTextureFormTextureAtlases=e.getFrameByPosition=e.getEdgeFormTriangles=e.getEasingValue=e.samplingEasingCurve=e.getCurveEasingValue=e.getCurvePoint=e.isDragonBonesString=e.TweenType=e.TimelineType=e.AnimationBlendType=e.AnimationType=e.BlendMode=e.ActionType=e.BoundingBoxType=e.DisplayType=e.BoneType=e.ArmatureType=e.BinaryOffset=e.OffsetOrder=e.DATA_VERSIONS=e.DATA_VERSION=e.DATA_VERSION_5_6=e.DATA_VERSION_5_5=e.DATA_VERSION_5_0=e.DATA_VERSION_4_5=e.DATA_VERSION_4_0=e.DATA_VERSION_3_0=e.DATA_VERSION_2_3=void 0;var u,l,c,h,f,d,p,m,_,g,v=s(n(3)),y=n(0),b=s(n(4));function w(t,e,n,r,i,o,a,s,u,l){var c=1-u,h=c*c,f=u*u,d=c*h,p=3*u*h,m=3*c*f,_=u*f;l.x=d*t+p*n+m*i+_*a,l.y=d*e+p*r+m*o+_*s}function x(t,e){var n=e.length;if(n%3==1){for(var r=-2;(r+6<n?e[r+6]:1)<t;)r+=6;for(var i=r>=0&&r+6<n,o=i?e[r]:0,a=i?e[r+1]:0,s=e[r+2],u=e[r+3],l=e[r+4],c=e[r+5],h=i?e[r+6]:1,f=i?e[r+7]:1,d=0,p=1;p-d>.01;)w(o,a,s,u,l,c,h,f,m=(p+d)/2,y.helpPointA),t-y.helpPointA.x>0?d=m:p=m;return y.helpPointA.y}for(r=0;e[r+6]<t;)r+=6;for(o=e[r],a=e[r+1],s=e[r+2],u=e[r+3],l=e[r+4],c=e[r+5],h=e[r+6],f=e[r+7],d=0,p=1;p-d>.01;){var m;w(o,a,s,u,l,c,h,f,m=(p+d)/2,y.helpPointA),t-y.helpPointA.x>0?d=m:p=m}return y.helpPointA.y}function A(t,e,n){var r=e;switch(t){case g.QuadIn:r=Math.pow(e,2);break;case g.QuadOut:r=1-Math.pow(1-e,2);break;case g.QuadInOut:r=.5*(1-Math.cos(e*Math.PI))}return(r-e)*n+e}e.DATA_VERSION_2_3="2.3",e.DATA_VERSION_3_0="3.0",e.DATA_VERSION_4_0="4.0",e.DATA_VERSION_4_5="4.5",e.DATA_VERSION_5_0="5.0",e.DATA_VERSION_5_5="5.5",e.DATA_VERSION_5_6="5.6",e.DATA_VERSION=e.DATA_VERSION_5_6,e.DATA_VERSIONS=[e.DATA_VERSION_2_3,e.DATA_VERSION_3_0,e.DATA_VERSION_4_0,e.DATA_VERSION_4_5,e.DATA_VERSION_5_0,e.DATA_VERSION_5_5,e.DATA_VERSION_5_6],function(t){t[t.FrameInt=0]="FrameInt",t[t.FrameFloat=1]="FrameFloat",t[t.Frame=2]="Frame"}(e.OffsetOrder||(e.OffsetOrder={})),function(t){t[t.WeigthBoneCount=0]="WeigthBoneCount",t[t.WeigthFloatOffset=1]="WeigthFloatOffset",t[t.WeigthBoneIndices=2]="WeigthBoneIndices",t[t.GeometryVertexCount=0]="GeometryVertexCount",t[t.GeometryTriangleCount=1]="GeometryTriangleCount",t[t.GeometryFloatOffset=2]="GeometryFloatOffset",t[t.GeometryWeightOffset=3]="GeometryWeightOffset",t[t.GeometryVertexIndices=4]="GeometryVertexIndices",t[t.TimelineScale=0]="TimelineScale",t[t.TimelineOffset=1]="TimelineOffset",t[t.TimelineKeyFrameCount=2]="TimelineKeyFrameCount",t[t.TimelineFrameValueCount=3]="TimelineFrameValueCount",t[t.TimelineFrameValueOffset=4]="TimelineFrameValueOffset",t[t.TimelineFrameOffset=5]="TimelineFrameOffset",t[t.FramePosition=0]="FramePosition",t[t.FrameTweenType=1]="FrameTweenType",t[t.FrameTweenEasingOrCurveSampleCount=2]="FrameTweenEasingOrCurveSampleCount",t[t.FrameCurveSamples=3]="FrameCurveSamples",t[t.ActionFrameActionCount=1]="ActionFrameActionCount",t[t.ActionFrameActionIndices=2]="ActionFrameActionIndices",t[t.DeformMeshOffset=0]="DeformMeshOffset",t[t.DeformCount=1]="DeformCount",t[t.DeformValueCount=2]="DeformValueCount",t[t.DeformValueOffset=3]="DeformValueOffset",t[t.DeformFloatOffset=4]="DeformFloatOffset"}(e.BinaryOffset||(e.BinaryOffset={})),function(t){t[t.Armature=0]="Armature",t[t.MovieClip=1]="MovieClip",t[t.Stage=2]="Stage",t[t.ImageSequences=3]="ImageSequences"}(u=e.ArmatureType||(e.ArmatureType={})),function(t){t[t.Bone=0]="Bone",t[t.Surface=1]="Surface"}(l=e.BoneType||(e.BoneType={})),function(t){t[t.Image=0]="Image",t[t.Armature=1]="Armature",t[t.Mesh=2]="Mesh",t[t.BoundingBox=3]="BoundingBox",t[t.Path=4]="Path"}(c=e.DisplayType||(e.DisplayType={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.Ellipse=1]="Ellipse",t[t.Polygon=2]="Polygon"}(h=e.BoundingBoxType||(e.BoundingBoxType={})),function(t){t[t.Play=0]="Play",t[t.Frame=10]="Frame",t[t.Sound=11]="Sound"}(f=e.ActionType||(e.ActionType={})),function(t){t[t.Normal=0]="Normal",t[t.Add=1]="Add",t[t.Alpha=2]="Alpha",t[t.Darken=3]="Darken",t[t.Difference=4]="Difference",t[t.Erase=5]="Erase",t[t.HardLight=6]="HardLight",t[t.Invert=7]="Invert",t[t.Layer=8]="Layer",t[t.Lighten=9]="Lighten",t[t.Multiply=10]="Multiply",t[t.Overlay=11]="Overlay",t[t.Screen=12]="Screen",t[t.Subtract=13]="Subtract"}(d=e.BlendMode||(e.BlendMode={})),function(t){t.Normal="normal",t.Tree="tree",t.Node="node"}(p=e.AnimationType||(e.AnimationType={})),function(t){t.None="none",t.E1D="1d"}(m=e.AnimationBlendType||(e.AnimationBlendType={})),function(t){t[t.Action=0]="Action",t[t.ZOrder=1]="ZOrder",t[t.BoneAll=10]="BoneAll",t[t.BoneTranslate=11]="BoneTranslate",t[t.BoneRotate=12]="BoneRotate",t[t.BoneScale=13]="BoneScale",t[t.Surface=50]="Surface",t[t.BoneAlpha=60]="BoneAlpha",t[t.SlotDisplay=20]="SlotDisplay",t[t.SlotColor=21]="SlotColor",t[t.SlotDeform=22]="SlotDeform",t[t.SlotZIndex=23]="SlotZIndex",t[t.SlotAlpha=24]="SlotAlpha",t[t.IKConstraint=30]="IKConstraint",t[t.AnimationProgress=40]="AnimationProgress",t[t.AnimationWeight=41]="AnimationWeight",t[t.AnimationParameter=42]="AnimationParameter"}(_=e.TimelineType||(e.TimelineType={})),function(t){t[t.None=0]="None",t[t.Line=1]="Line",t[t.Curve=2]="Curve",t[t.QuadIn=3]="QuadIn",t[t.QuadOut=4]="QuadOut",t[t.QuadInOut=5]="QuadInOut"}(g=e.TweenType||(e.TweenType={})),e.isDragonBonesString=function(t){var e=t.substr(0,Math.min(200,t.length));return e.indexOf("armature")>0||e.indexOf("textureAtlas")>0},e.getCurvePoint=w,e.getCurveEasingValue=x,e.samplingEasingCurve=function(t,e,n){var r=t.length;if(n)for(var i=-2,o=0,a=e.length;o<a;++o){for(var s=(o+1)/(a+1);(i+6<r?t[i+6]:1)<s;)i+=6;for(var u=i>=0&&i+6<r,l=u?t[i]:0,c=u?t[i+1]:0,h=t[i+2],f=t[i+3],d=t[i+4],p=t[i+5],m=u?t[i+6]:1,_=u?t[i+7]:1,g=0,v=1;v-g>1e-4;)w(l,c,h,f,d,p,m,_,b=(v+g)/2,y.helpPointA),s-y.helpPointA.x>0?g=b:v=b;e[o]=y.helpPointA.y}else for(i=0,o=0,a=e.length;o<a;++o)if(0!==o)if(o!==a-1){for(s=o/(a-1);t[i+6]<s;)i+=6;for(l=t[i],c=t[i+1],h=t[i+2],f=t[i+3],d=t[i+4],p=t[i+5],m=t[i+6],_=t[i+7],g=0,v=1;v-g>1e-4;){var b;w(l,c,h,f,d,p,m,_,b=(v+g)/2,y.helpPointA),s-y.helpPointA.x>0?g=b:v=b}e[o]=y.helpPointA.y}else e[o]=t[r-1];else e[o]=t[1]},e.getEasingValue=A,e.getEdgeFormTriangles=function(t){for(var e=[],n={},r=function(t,e){if(t>e){var r=t;t=e,e=r}var i=t+"_"+e;n[i]=i in n?null:[t,e]},i=0,o=t.length;i<o;i+=3)r(t[i+0],t[i+1]),r(t[i+1],t[i+2]),r(t[i+2],t[i+0]);for(var a in n)(f=n[a])&&e.push(f);e.sort((function(t,e){return t[0]===e[0]?t[1]<e[1]?-1:1:t[0]<e[0]?-1:1}));var s=e.splice(1,1)[0];e.push(s);var u=s[0];s[0]=s[1],s[1]=u;for(var l=new Array,c=0,h=e;c<h.length;c++){var f=h[c];l.push(f[0],f[1])}return l},e.getFrameByPosition=function(t,e){for(var n=0,r=0,i=0,o=t;i<o.length;i++){var a=o[i];if(a._position>=0){if(a._position===e)return a;if(a._position>e)return t[n-1]}else{if(r===e)return a;if(r>e)return t[n-1];r+=a.duration}n++}return t[0]},e.getTextureFormTextureAtlases=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n].getTexture(t);if(i)return i}return null},e.oldActionToNewAction=function(t){var e=new O;return e.type=f.Play,e.name=t.gotoAndPlay,e},e.mergeActionToAnimation=function(t,e,n,r,i,o){var a=t.frame,s=r?r.name:"",u=i?i.name:"";if(0===a.length){var l=new ht;l.duration=t.duration,a.push(l)}for(var c=0,h=0,d=null,p=null,m=0,_=a.length;m<_;++m){var g=a[m];if(n===c){d=g;break}if(n<c&&p){p.duration=n-(c-p.duration),(d=new ht).duration=c-n,a.splice(m+1,0,d);break}c+=g.duration,p=g,h++}if(!d&&p&&(p.duration=n,(d=new ht).duration=c-n,a.splice(h,0,d)),d)if(e instanceof b.AllFrame||e instanceof ft)e.event&&((w=new O).name=e.event,w.bone=s,o?(w.type=f.Frame,d.actions.push(w)):d.events.push(w)),e.sound&&(o?((w=new O).type=f.Sound,w.name=e.sound,w.bone=s,d.actions.push(w)):d.sound=e.sound),e.action&&o&&((w=new O).type=f.Play,w.name=e.action,w.slot=u,d.actions.push(w));else if(o)for(var v=0,y=e.actions;v<y.length;v++){var w;if((w=y[v])instanceof S){var x=new O;x.type=f.Play,x.name=w.gotoAndPlay,x.slot=u,d.actions.push(x)}else w.slot=u,d.actions.push(w)}},e.modifyFramesByPosition=function(t){if(0!==t.length){0!==t[0]._position&&((r=new t[0].constructor).copy(t[0]),r._position=0,r instanceof ot&&(r.tweenEasing=0),t.unshift(r));for(var e=0,n=t.length;e<n;++e){var r=t[e];e<n-1&&(r.duration=t[e+1]._position-r._position)}}};var k=function(){function t(){this.extra=null}return t.prototype.clearToBinary=function(){},t}();e.BaseData=k;var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameRate=0,e.name="",e.stage="",e.version="",e.compatibleVersion="",e.armature=[],e.offset=[],e.tag=[],e.textureAtlas=[],e.userData=null,e}return i(e,t),e}(k);e.DragonBones=E;var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ints=[],e.floats=[],e.strings=[],e}return i(e,t),e}(k);e.UserData=T;var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gotoAndPlay="",e}return i(e,t),e}(k);e.OldAction=S;var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=f.Play,e.name="",e.bone="",e.slot="",e}return i(e,t),e}(T);e.Action=O;var C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasBackground=!1,e.color=-1,e.x=0,e.y=0,e.width=0,e.height=0,e}return i(e,t),e}(k);e.Canvas=C;var F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=u[u.Armature].toLowerCase(),e.frameRate=0,e.name="",e.aabb=new y.Rectangle,e.bone=[],e.slot=[],e.ik=[],e.path=[],e.skin=[],e.animation=[],e.defaultActions=[],e.actions=[],e.canvas=null,e.userData=null,e}return i(e,t),e.prototype.sortBones=function(){var t=this.bone.length;if(!(t<=0)){var e=this.bone.concat(),n=0,r=0;for(this.bone.length=0;r<t;){var i=e[n++];if(n>=t&&(n=0),!(this.bone.indexOf(i)>=0)){if(i.parent){var o=this.getBone(i.parent);if(!o||this.bone.indexOf(o)<0)continue}this.bone.push(i),r++}}}},e.prototype.sortSlots=function(){this.slot.sort((function(t,e){return t._zOrder>e._zOrder?1:-1}))},e.prototype.getBone=function(t){for(var e=0,n=this.bone;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.getSlot=function(t){for(var e=0,n=this.slot;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.getSkin=function(t){for(var e=0,n=this.skin;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.getDisplay=function(t,e,n){var r=this.getSkin(t);if(r&&(a=r.getSlot(e)))return a.getDisplay(n);for(var i=0,o=this.skin;i<o.length;i++){var a,s=o[i];if(a=s.getSlot(e))return a.getDisplay(n);for(var u=0,l=s.slot;u<l.length;u++)for(var c=0,h=l[u].display;c<h.length;c++){var f=h[c];if(f&&f.name===n)return f}}return null},e.prototype.getAnimation=function(t){for(var e=0,n=this.animation;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.localToGlobal=function(){for(var t=0,e=this.bone;t<e.length;t++){var n=e[t];if(n._global||(n._global=new y.Transform),n._global.copyFrom(n.transform),n.parent){var r=this.getBone(n.parent);if(r&&r._global)if(r._global.toMatrix(y.helpMatrixA),n.inheritScale)n.inheritRotation||(n._global.skX-=r._global.skY,n._global.skY-=r._global.skY),n._global.toMatrix(y.helpMatrixB),y.helpMatrixB.concat(y.helpMatrixA),n._global.fromMatrix(y.helpMatrixB),n.inheritTranslation||(n._global.x=n.transform.x,n._global.y=n.transform.y);else if(n.inheritTranslation&&y.helpMatrixA.transformPoint(n._global.x,n._global.y,n._global,!0),n.inheritRotation){var i=r._global.skY;r._global.scX<0&&(i+=Math.PI),y.helpMatrixA.a*y.helpMatrixA.d-y.helpMatrixA.b*y.helpMatrixA.c<0&&(i-=2*n._global.skY,n.inheritReflection&&(n._global.skX+=Math.PI)),n._global.skX+=i,n._global.skY+=i}}}},e}(k);e.Armature=F;var P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=l[l.Bone].toLowerCase(),e.inheritTranslation=!0,e.inheritRotation=!0,e.inheritScale=!0,e.inheritReflection=!0,e.length=0,e.alpha=1,e.name="",e.parent="",e.transform=new y.Transform,e.userData=null,e._global=null,e}return i(e,t),e}(k);e.Bone=P;var I=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.type=l[l.Surface].toLowerCase(),n.offset=-1,n.segmentX=0,n.segmentY=0,n.vertices=[],n.weights=[],n.bones=[],e&&(n.type=""),n}return i(e,t),e.prototype.clearToBinary=function(){this.vertices.length=0},Object.defineProperty(e.prototype,"vertexCount",{get:function(){return(this.segmentX+1)*(this.segmentY+1)},enumerable:!1,configurable:!0}),e}(P);e.Surface=I;var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blendMode=d[d.Normal].toLowerCase(),e.displayIndex=0,e.zIndex=0,e.alpha=1,e.name="",e.parent="",e.color=new y.ColorTransform,e.actions=[],e.userData=null,e._zOrder=-1,e}return i(e,t),e}(k);e.Slot=D;var M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bendPositive=!0,e.chain=0,e.weight=1,e.name="",e.bone="",e.target="",e}return i(e,t),e}(k);e.IKConstraint=M;var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.target="",e.bones=[],e.positionMode="percent",e.spacingMode="length",e.rotateMode="tangent",e.position=0,e.spacing=0,e.rotateOffset=0,e.rotateMix=0,e.translateMix=0,e}return i(e,t),e}(k);e.PathConstraint=B;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="default",e.slot=[],e.userData=null,e}return i(e,t),e.prototype.getSlot=function(t){for(var e=0,n=this.slot;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e}(k);e.Skin=R;var N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e.display=[],e.actions=[],e}return i(e,t),e.prototype.getDisplay=function(t){for(var e=0,n=this.display;e<n.length;e++){var r=n[e];if(r&&r.name===t)return r}return null},e}(k);e.SkinSlot=N;var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c[c.Image].toLowerCase(),e.name="",e.transform=new y.Transform,e}return i(e,t),e}(k);e.Display=L;var z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subType=h[h.Rectangle].toLowerCase(),e.color=0,e}return i(e,t),e}(L);e.BoundingBoxDisplay=z;var j=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.path="",n.pivot=new y.Point(.5,.5),e||(n.type=c[c.Image].toLowerCase()),n}return i(e,t),e}(L);e.ImageDisplay=j;var U=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.inheritAnimation=!0,n.path="",n.actions=[],e||(n.type=c[c.Armature].toLowerCase()),n}return i(e,t),e}(L);e.ArmatureDisplay=U;var Y=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.offset=-1,n.width=0,n.height=0,n.path="",n.vertices=[],n.uvs=[],n.triangles=[],n.weights=[],n.slotPose=[],n.bonePose=[],n.glueWeights=[],n.glueMeshes=[],n.edges=[],n.userEdges=[],n._userEdges=!0,n._boneCount=0,n._weightCount=0,n._matrix=new y.Matrix,e||(n.type=c[c.Mesh].toLowerCase()),n}return i(e,t),e.prototype.clearToBinary=function(){this.width=0,this.height=0,this.vertices.length=0,this.uvs.length=0,this.triangles.length=0,this.weights.length=0,this.slotPose.length=0,this.bonePose.length=0,this.edges.length=0,this.userEdges.length=0},e.prototype.getBonePoseOffset=function(t){for(var e=0,n=this.bonePose.length;e<n;e+=7)if(t===this.bonePose[e])return e;throw new Error},e}(L);e.MeshDisplay=Y;var X=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.inheritDeform=!0,n.path="",n.share="",n.skin="default",e||(n.type=c[c.Mesh].toLowerCase()),n}return i(e,t),e}(L);e.SharedMeshDisplay=X;var V=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.offset=-1,n.closed=!1,n.constantSpeed=!1,n.vertexCount=0,n.vertices=[],n.lengths=[],n.weights=[],n.bones=[],e||(n.type=c[c.Path].toLowerCase()),n}return i(e,t),e.prototype.clearToBinary=function(){this.vertexCount=0,this.vertices.length=0,this.weights.length=0,this.bones.length=0},e}(L);e.PathDisplay=V;var H=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.width=0,n.height=0,e||(n.type=c[c.BoundingBox].toLowerCase(),n.subType=h[h.Rectangle].toLowerCase()),n}return i(e,t),e}(z);e.RectangleBoundingBoxDisplay=H;var G=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.width=0,n.height=0,e||(n.type=c[c.BoundingBox].toLowerCase(),n.subType=h[h.Ellipse].toLowerCase()),n}return i(e,t),e}(z);e.EllipseBoundingBoxDisplay=G;var W=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.offset=-1,n.vertexCount=0,n.vertices=[],n.weights=[],n.bones=[],e||(n.type=c[c.BoundingBox].toLowerCase(),n.subType=h[h.Polygon].toLowerCase()),n}return i(e,t),e.prototype.clearToBinary=function(){this.vertexCount=0,this.weights.length=0,this.bones.length=0},e}(z);e.PolygonBoundingBoxDisplay=W;var Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.Normal,e.blendType=m.None,e.duration=1,e.playTimes=1,e.scale=1,e.fadeInTime=0,e.name="default",e.frame=[],e.bone=[],e.slot=[],e.ffd=[],e.ik=[],e.timeline=[],e.zOrder=null,e}return i(e,t),e.prototype.getSlotTimeline=function(t){for(var e=0,n=this.slot;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.getBoneTimeline=function(t){for(var e=0,n=this.bone;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e.prototype.getAnimationTimeline=function(t,e){for(var n=0,r=this.timeline;n<r.length;n++){var i=r[n];if(i.type===e&&i.name===t)return i}return null},e}(k);e.Animation=Z;var K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.Normal,e.blendType=m.None,e.duration=0,e.playTimes=1,e.scale=1,e.fadeInTime=0,e.name="",e.action=-1,e.zOrder=-1,e.offset=[],e.bone={},e.surface={},e.slot={},e.constraint={},e.timeline=[],e}return i(e,t),e}(k);e.AnimationBinary=K;var J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scale=1,e.offset=0,e.name="",e}return i(e,t),e}(k);e.Timeline=J;var q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=_.Action,e.frame=[],e}return i(e,t),e.prototype.clearToBinary=function(){this.scale=1,this.frame.length=0},e}(J);e.TypeTimeline=q;var Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frame=[],e.translateFrame=[],e.rotateFrame=[],e.scaleFrame=[],e}return i(e,t),e.prototype.insertFrame=function(t,e){for(var n,r=0,i=0,o=0,a=null,s=null,u=0,l=t;u<l.length;u++){var c=l[u];if(i===e)return r;if(i<e&&e<=i+c.duration){if(r===t.length-1);else{if(e===i+c.duration)return r+1;s=t[r+1]}o=(e-i)/c.duration,a=c,r++;break}r++,i+=c.duration}if(t===this.frame)a||(a=new ft,t.push(a)),n=new ft;else if(t===this.translateFrame)a||(a=new ut,t.push(a)),n=new ut;else if(t===this.rotateFrame)a||(a=new dt,t.push(a)),n=new dt;else{if(t!==this.scaleFrame)return-1;a||(a=new lt,t.push(a)),n=new lt}if(n.duration=a.duration-(e-i),a.duration-=n.duration,t.splice(r,0,n),a instanceof ot&&n instanceof ot&&(n.tweenEasing=a.tweenEasing,o=a.getTweenProgress(o)),a instanceof ft&&n instanceof ft)if(s instanceof ft)if(n.transform.x=a.transform.x+(s.transform.x-a.transform.x)*o,n.transform.y=a.transform.y+(s.transform.y-a.transform.y)*o,n.transform.scX=a.transform.scX+(s.transform.scX-a.transform.scX)*o,n.transform.scY=a.transform.scY+(s.transform.scY-a.transform.scY)*o,0===a.tweenRotate)n.tweenRotate=0,n.transform.skX=a.transform.skX+y.normalizeDegree(s.transform.skX-a.transform.skX)*o,n.transform.skY=a.transform.skY+y.normalizeDegree(s.transform.skY-a.transform.skY)*o;else{var h=a.tweenRotate;n.tweenRotate=h>0&&h<2?1:h<0&&h>-2?-1:Math.floor(h*o),(h>0?s.transform.skY>=a.transform.skY:s.transform.skY<=a.transform.skY)&&(h=h>0?h-1:h+1),n.transform.skX=a.transform.skX+y.normalizeDegree(s.transform.skX-a.transform.skX+360*h)*o,n.transform.skY=a.transform.skY+y.normalizeDegree(s.transform.skY-a.transform.skY+360*h)*o}else n.transform.copyFrom(a.transform);else if(a instanceof ut&&n instanceof ut)s instanceof ut?(n.x=a.x+(s.x-a.x)*o,n.y=a.y+(s.y-a.y)*o):(n.x=a.x,n.y=a.y);else if(a instanceof dt&&n instanceof dt&&s instanceof dt)if(s instanceof dt){if(0===a.clockwise)n.clockwise=0,n.rotate=a.rotate+y.normalizeDegree(s.rotate-a.rotate)*o;else{var f=a.clockwise;n.clockwise=f>0&&f<2?1:f<0&&f>-2?-1:Math.floor(f*o),(f>0?s.rotate>=a.rotate:s.rotate<=a.rotate)&&(f=f>0?f-1:f+1),n.rotate=a.rotate+(s.rotate-a.rotate+360*f)*o}n.skew=a.skew+(s.skew-a.skew)*o}else n.rotate=a.rotate,n.skew=a.skew;else{if(!(a instanceof lt&&n instanceof lt))return-1;s instanceof lt?(n.x=a.x+(s.x-a.x)*o,n.y=a.y+(s.y-a.y)*o):(n.x=a.x,n.y=a.y)}return r},e}(J);e.BoneTimeline=Q;var $=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frame=[],e.displayFrame=[],e.colorFrame=[],e}return i(e,t),e.prototype.insertFrame=function(t,e){for(var n,r=0,i=0,o=0,a=null,s=null,u=0,l=t;u<l.length;u++){var c=l[u];if(i===e)return r;if(i<e&&e<=i+c.duration){if(r===t.length-1);else{if(e===i+c.duration)return r+1;s=t[r+1]}o=(e-i)/c.duration,a=c,r++;break}r++,i+=c.duration}if(t===this.frame)a||(a=new pt,t.push(a)),n=new pt;else if(t===this.displayFrame)a||(a=new mt,t.push(a)),n=new mt;else{if(t!==this.colorFrame)return-1;a||(a=new _t,t.push(a)),n=new _t}if(n.duration=a.duration-(e-i),a.duration-=n.duration,t.splice(r,0,n),a instanceof ot&&n instanceof ot&&(n.tweenEasing=a.tweenEasing,o=a.getTweenProgress(o)),a instanceof pt&&n instanceof pt)n.displayIndex=a.displayIndex,s instanceof pt?(n.color.aM=a.color.aM+(s.color.aM-a.color.aM)*o,n.color.rM=a.color.rM+(s.color.rM-a.color.rM)*o,n.color.gM=a.color.gM+(s.color.gM-a.color.gM)*o,n.color.bM=a.color.bM+(s.color.bM-a.color.bM)*o,n.color.aO=a.color.aO+(s.color.aO-a.color.aO)*o,n.color.rO=a.color.rO+(s.color.rO-a.color.rO)*o,n.color.gO=a.color.gO+(s.color.gO-a.color.gO)*o,n.color.bO=a.color.bO+(s.color.bO-a.color.bO)*o):n.color.copyFrom(n.color);else if(a instanceof mt&&n instanceof mt)n.value=a.value;else{if(!(a instanceof _t&&n instanceof _t))return-1;s instanceof _t?(n.value.aM=a.value.aM+(s.value.aM-a.value.aM)*o,n.value.rM=a.value.rM+(s.value.rM-a.value.rM)*o,n.value.gM=a.value.gM+(s.value.gM-a.value.gM)*o,n.value.bM=a.value.bM+(s.value.bM-a.value.bM)*o,n.value.aO=a.value.aO+(s.value.aO-a.value.aO)*o,n.value.rO=a.value.rO+(s.value.rO-a.value.rO)*o,n.value.gO=a.value.gO+(s.value.gO-a.value.gO)*o,n.value.bO=a.value.bO+(s.value.bO-a.value.bO)*o):n.value.copyFrom(n.value)}return r},e}(J);e.SlotTimeline=$;var tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(q);e.ZOrderTimeline=tt;var et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(q);e.IKConstraintTimeline=et;var nt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skin="default",e.slot="",e}return i(e,t),e}(q);e.SlotDeformTimeline=nt;var rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e}return i(e,t),e}(q);e.AnimationTimeline=rt;var it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=1,e._position=-1,e}return i(e,t),e}(k);e.Frame=it;var ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tweenEasing=NaN,e.curve=[],e}return i(e,t),e.prototype.getTweenEnabled=function(){return this.curve.length>0||!isNaN(this.tweenEasing)},e.prototype.removeTween=function(){this.tweenEasing=NaN,this.curve.length=0},e.prototype.getTweenProgress=function(t){if(this.getTweenEnabled()){if(this.curve.length>0)return x(t,this.curve);if(0===this.tweenEasing);else{if(this.tweenEasing<=0)return A(g.QuadOut,t,this.tweenEasing);if(this.tweenEasing<=1)return A(g.QuadIn,t,this.tweenEasing);if(this.tweenEasing<=2)return A(g.QuadInOut,t,this.tweenEasing)}return t}return 0},e}(it);e.TweenFrame=ot;var at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e}return i(e,t),e.prototype.equal=function(t){return this.value===t.value},e.prototype.copy=function(t){this.value=t.value},e}(ot);e.SingleValueFrame0=at;var st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=1,e}return i(e,t),e.prototype.equal=function(t){return this.value===t.value},e.prototype.copy=function(t){this.value=t.value},e}(ot);e.SingleValueFrame1=st;var ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e}return i(e,t),e.prototype.equal=function(t){return this.x===t.x&&this.y===t.y},e.prototype.copy=function(t){this.x=t.x,this.y=t.y},e}(ot);e.DoubleValueFrame0=ut;var lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=1,e.y=1,e}return i(e,t),e.prototype.equal=function(t){return this.x===t.x&&this.y===t.y},e.prototype.copy=function(t){this.x=t.x,this.y=t.y},e}(ot);e.DoubleValueFrame1=lt;var ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=0,e.value=[],e.vertices=[],e.zOrder=[],e}return i(e,t),e.prototype.equal=function(t){if(this.offset===t.offset)if(this.zOrder.length>0||t.zOrder.length>0){if(this.zOrder.length===t.zOrder.length){for(var e=0,n=this.zOrder.length;e<n;++e)if(this.zOrder[e]!==t.zOrder[e])return!1;return!0}}else if(this.vertices.length>0||t.vertices.length>0){if(this.vertices.length===t.vertices.length){for(e=0,n=this.vertices.length;e<n;++e)if(this.vertices[e]!==t.vertices[e])return!1;return!0}}else if(this.value.length===t.value.length){for(e=0,n=this.value.length;e<n;++e)if(this.value[e]!==t.value[e])return!1;return!0}return!1},e.prototype.copy=function(t){this.offset=t.offset,this.value.length=0,this.zOrder.length=0,this.vertices.length=0;for(var e=0,n=t.value;e<n.length;e++){var r=n[e];this.value.push(r)}for(var i=0,o=t.zOrder;i<o.length;i++)r=o[i],this.zOrder.push(r);for(var a=0,s=t.vertices;a<s.length;a++)r=s[a],this.vertices.push(r)},e}(ot);e.MutilpleValueFrame=ct;var ht=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="",e.event="",e.sound="",e.events=[],e.actions=[],e}return i(e,t),e.prototype.equal=function(t){return!t},e.prototype.copy=function(t){},e}(it);e.ActionFrame=ht;var ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tweenRotate=0,e.action="",e.event="",e.sound="",e.transform=new y.Transform,e}return i(e,t),e.prototype.equal=function(t){return 0===this.tweenRotate&&!this.action&&!this.event&&!this.sound&&this.transform.equal(t.transform)},e.prototype.copy=function(t){this.transform.copyFrom(t.transform)},e}(ot);e.BoneAllFrame=ft;var dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clockwise=0,e.rotate=0,e.skew=0,e}return i(e,t),e.prototype.equal=function(t){return 0===this.clockwise&&this.rotate===t.rotate&&this.skew===t.skew},e.prototype.copy=function(t){this.rotate=t.rotate,this.skew=t.skew},e.prototype.getTweenFrame=function(t,n){if(0===n||this.getTweenEnabled())return this;if(n>=1)return t;n=this.getTweenProgress(n);var r=new e;if(0===this.clockwise)r.rotate=this.rotate+y.normalizeDegree(t.rotate-this.rotate)*n;else{var i=this.clockwise;(i>0?t.rotate>=this.rotate:t.rotate<=this.rotate)&&(i=i>0?i-1:i+1),r.rotate=this.rotate+(t.rotate-this.rotate+360*i)*n}return r.skew=this.skew+(t.skew-this.skew)*n,r},e}(ot);e.BoneRotateFrame=dt;var pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayIndex=0,e.color=new y.ColorTransform,e.actions=[],e}return i(e,t),e.prototype.equal=function(t){return 0===this.actions.length&&0===t.actions.length&&this.displayIndex===t.displayIndex&&this.color.equal(t.color)},e.prototype.copy=function(t){this.displayIndex=t.displayIndex,this.color.copyFrom(t.color)},e}(ot);e.SlotAllFrame=pt;var mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e.actions=[],e}return i(e,t),e.prototype.equal=function(t){return 0===this.actions.length&&0===t.actions.length&&this.value===t.value},e.prototype.copy=function(t){this.value=t.value},e}(it);e.SlotDisplayFrame=mt;var _t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=new y.ColorTransform,e}return i(e,t),e.prototype.equal=function(t){return this.value.equal(t.value)},e.prototype.copy=function(t){this.value.copyFrom(t.value)},e}(ot);e.SlotColorFrame=_t;var gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bendPositive=!0,e.weight=1,e}return i(e,t),e.prototype.equal=function(t){return this.bendPositive===t.bendPositive&&this.weight===t.weight},e.prototype.copy=function(t){this.bendPositive=t.bendPositive,this.weight=t.weight},e}(ot);e.IKConstraintFrame=gt;var vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.height=0,e.scale=1,e.name="",e.imagePath="",e.SubTexture=[],e}return i(e,t),e.prototype.getTexture=function(t){for(var e=0,n=this.SubTexture;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},e}(k);e.TextureAtlas=vt;var yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rotated=!1,e.x=0,e.y=0,e.width=0,e.height=0,e.frameX=0,e.frameY=0,e.frameWidth=0,e.frameHeight=0,e.name="",e}return i(e,t),e}(k);e.Texture=yt;var bt=_.Action;function wt(){switch(bt){case _.Action:return at;case _.SlotDisplay:case _.SlotZIndex:case _.AnimationProgress:return at;case _.BoneAlpha:case _.SlotAlpha:case _.AnimationWeight:return st;case _.BoneTranslate:case _.BoneRotate:case _.AnimationParameter:return ut;case _.BoneScale:case _.IKConstraint:return lt;case _.ZOrder:case _.Surface:case _.SlotDeform:return ct;case _.SlotColor:return _t}throw new Error}e.copyConfig=[E,{armature:F,textureAtlas:vt,userData:T},F,{bone:[function(t){var e=t.type;switch(void 0!==e?"string"==typeof e&&(e=v.getEnumFormString(l,e,l.Bone)):e=l.Bone,e){case l.Bone:return P;case l.Surface:return I}return null},Function],slot:D,ik:M,path:B,skin:R,animation:Z,defaultActions:S,canvas:C,userData:T},P,{userData:T},D,{actions:S,userData:T},R,{slot:N,userData:T},N,{display:[function(t){var e=t.type;switch(void 0!==e?"string"==typeof e&&(e=v.getEnumFormString(c,e,c.Image)):e=c.Image,e){case c.Image:return j;case c.Armature:return U;case c.Mesh:return t.share?X:Y;case c.Path:return V;case c.BoundingBox:var n=t.subType;switch(void 0!==n?"string"==typeof n&&(n=v.getEnumFormString(h,n,h.Rectangle)):n=h.Rectangle,n){case h.Rectangle:return H;case h.Ellipse:return G;case h.Polygon:return W}}throw new Error},Function]},U,{actions:O},Z,{frame:ht,zOrder:tt,bone:Q,slot:$,ffd:nt,ik:et,timeline:[function(t){switch(bt="type"in t?t.type:_.Action){case _.AnimationProgress:if("x"in t||"y"in t)return rt;default:return q}},Function]},q,{frame:[wt,Function]},rt,{frame:[wt,Function]},tt,{frame:ct},Q,{frame:ft,translateFrame:ut,rotateFrame:dt,scaleFrame:lt},$,{frame:pt,displayFrame:mt,colorFrame:_t},nt,{frame:ct},et,{frame:gt},ht,{actions:O,events:O},pt,{actions:S},mt,{actions:S},vt,{SubTexture:yt}],e.compressConfig=[new y.Point(.5,.5),new y.Rectangle,new y.Transform,new y.ColorTransform,new E,new T,new S,new O,new C,new F,new P,new I(!0),new D,new M,new B,new R,new N,new j(!0),new U(!0),new Y(!0),new X(!0),new V(!0),new H(!0),new G(!0),new W(!0),new Z,new K,new q,new tt,new Q,new $,new nt,new et,new rt,new at,new st,new ut,new lt,new ct,new ht,new ft,new dt,new pt,new mt,new _t,new gt,new vt,new yt]},function(t,e,n){"use strict";function r(t,e,n){var r=null;if(null!==n){var o=n.indexOf(e.constructor);o>=0&&o<n.length-1&&(r=n[o+1])}for(var a in e)a in t&&i(e,a,e[a],t[a],r?r[a]:null,n)}function i(t,e,n,o,a,s){var u=typeof n,l=typeof o;if("function"!==l)if(null==o||"object"!==l)if(u===l)t[e]=o;else if("boolean"===u)switch(o){case"0":case"NaN":case"":case"false":case"null":case"undefined":t[e]=!1;break;default:t[e]=Boolean(o)}else t[e]="number"===u?"NaN"===o||null===o?NaN:Number(o):"string"===u?o||o==o?String(o):"":o;else if(o instanceof Array){if(n instanceof Array||(t[e]=n=[]),n instanceof Array){n.length=o.length;for(var c=0,h=n.length;c<h;++c)i(n,c,n[c],o[c],a,s)}}else if(null!=n&&"object"===u)if(a instanceof Array)for(var f in o)i(n,f,n[f],o[f],a[0],s);else r(o,n,s);else if(a)if(a instanceof Array)if(a[1]===Function){var d=a[0](o);t[e]=n=new d,r(o,n,s)}else for(var f in t[e]=n=a[1]===Array?[]:{},o)i(n,f,n[f],o[f],a[0],s);else a?(t[e]=n=new a,r(o,n,s)):t[e]=o;else t[e]=o}Object.defineProperty(e,"__esModule",{value:!0}),e.compress=e.copyObjectFrom=void 0,e.copyObjectFrom=r,e.compress=function t(e,n){if("object"!=typeof e)return!1;if(e instanceof Array){for(var r=e,i=0,o=r;i<o.length;i++){var a=o[i];null!==a&&t(a,n)}if(0===r.length)return!0}else{for(var s=null,u=0,l=n;u<l.length&&(s=l[u],e.constructor!==s.constructor);u++)s=null;if(null!==s||"object"==typeof e){var c=0;for(var h in e)if("_"!==h.charAt(0)){var f=e[h],d=typeof f;if(null===s||null!==f&&"undefined"!==d&&"boolean"!==d&&"number"!==d&&"string"!==d){if("object"!==d)continue;if(t(f,n)){f instanceof Array&&e["_"+h]||delete e[h];continue}}else{var p=s[h];if(f===p||"number"===d&&isNaN(f)&&isNaN(p)){delete e[h];continue}}c++}else delete e[h];return 0===c}}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnumFormString=e.rgbaToHex=e.formatJSONString=void 0,e.formatJSONString=function(t){var e=t.charCodeAt(0);return(e<32||e>127)&&(t=t.substring(1)),t},e.rgbaToHex=function(t,e,n,r){var i="",o=Math.round(t).toString(16);return o.length<2&&(o="0"+o),i+=o,(o=Math.round(e).toString(16)).length<2&&(o="0"+o),i+=o,(o=Math.round(n).toString(16)).length<2&&(o="0"+o),i+=o,(o=Math.round(r).toString(16)).length<2&&(o="0"+o),i+o},String.prototype.padStart||(String.prototype.padStart=function(t,e){if(void 0===e&&(e=" "),this.length>=t)return String(this);for(var n=t-this.length,r=Math.ceil(n/e.length);r>>=1;)e+=e,1===r&&(e+=e);return e.slice(0,n)+this}),e.getEnumFormString=function(t,e,n){if(void 0===n&&(n=-1),"number"==typeof e)return e;for(var r in t)if("string"==typeof r&&r.toLowerCase()===e.toLowerCase())return t[r];return n}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.copyConfig=e.AllFrame=e.AnimationFrame=e.TweenFrame=e.Frame=e.AllTimeline=e.Animation=e.Timeline=e.ArmatureDisplay=e.ImageDisplay=e.Display=e.Slot=e.Skin=e.Bone=e.Armature=e.DragonBones=void 0;var u=s(n(3)),l=n(0),c=s(n(1)),h=function(){this.isGlobal=!0,this.frameRate=0,this.name="",this.version="",this.armature=[]};e.DragonBones=h;var f=function(){function t(){this.name="",this.bone=[],this.skin=[],this.animation=[]}return t.prototype.getBone=function(t){for(var e=0,n=this.bone;e<n.length;e++){var r=n[e];if(r.name===t)return r}return null},t}();e.Armature=f;var d=function(){this.name="",this.parent="",this.transform=new l.Transform};e.Bone=d;var p=function(){this.name="default",this.slot=[]};e.Skin=p;var m=function(){this.blendMode=c.BlendMode[c.BlendMode.Normal].toLowerCase(),this.z=0,this.displayIndex=0,this.name="",this.parent="",this.colorTransform=new l.ColorTransform,this.display=[]};e.Slot=m;var _=function(){this.type=c.DisplayType[c.DisplayType.Image].toLowerCase(),this.name="",this.transform=new l.Transform};e.Display=_;var g=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return e||(n.type=c.DisplayType[c.DisplayType.Image].toLowerCase()),n}return i(e,t),e}(_);e.ImageDisplay=g;var v=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return e||(n.type=c.DisplayType[c.DisplayType.Armature].toLowerCase()),n}return i(e,t),e}(_);e.ArmatureDisplay=v;var y=function(){this.scale=1,this.offset=0,this.name="",this.frame=[]};e.Timeline=y;var b=function(){this.autoTween=!0,this.tweenEasing=null,this.duration=1,this.loop=1,this.scale=1,this.fadeInTime=0,this.name="default",this.frame=[],this.timeline=[]};e.Animation=b;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(y);e.AllTimeline=w;var x=function(){this.duration=1};e.Frame=x;var A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tweenEasing=null,e.curve=[],e}return i(e,t),e}(x);e.TweenFrame=A;var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.action="",e.event="",e.sound="",e}return i(e,t),e}(x);e.AnimationFrame=k;var E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hide=!1,e.tweenRotate=0,e.displayIndex=0,e.action="",e.event="",e.sound="",e.transform=new l.Transform,e.colorTransform=new l.ColorTransform,e}return i(e,t),e}(A);e.AllFrame=E,e.copyConfig=[h,{armature:f,textureAtlas:c.TextureAtlas},f,{bone:d,skin:p,animation:b},d,{transform:l.Transform},m,{display:[function(t){var e=t.type;switch(void 0!==e?"string"==typeof e&&(e=u.getEnumFormString(c.DisplayType,e,c.DisplayType.Image)):e=c.DisplayType.Image,e){case c.DisplayType.Image:return g;case c.DisplayType.Armature:return v}return null},Function]},p,{slot:m},b,{frame:k,timeline:w},w,{frame:E},E,{transform:l.Transform,colorTransform:l.ColorTransform},c.TextureAtlas,{SubTexture:c.Texture}]},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(6),e),i(n(9),e)},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DragonBonesXmlUtil=void 0;var i=n(7),o=r(n(8)),a=function(){function t(){}return t.DRAGON_BONES="dragonBones",t.ARMATURE="armature",t.SKIN="skin",t.BONE="bone",t.SLOT="slot",t.DISPLAY="display",t.ANIMATION="animation",t.TIMELINE="timeline",t.FRAME="frame",t.TRANSFORM="transform",t.COLOR_TRANSFORM="colorTransform",t.RECTANGLE="rectangle",t.ELLIPSE="ellipse",t.TEXTURE_ATLAS="TextureAtlas",t.SUB_TEXTURE="SubTexture",t.A_ROTATED="rotated",t.A_FRAME_X="frameX",t.A_FRAME_Y="frameY",t.A_FRAME_WIDTH="frameWidth",t.A_FRAME_HEIGHT="frameHeight",t.A_IMAGE_PATH="imagePath",t.A_FRAME_RATE="frameRate",t.A_NAME="name",t.A_PARENT="parent",t.A_LENGTH="length",t.A_TYPE="type",t.A_FADE_IN_TIME="fadeInTime",t.A_DURATION="duration",t.A_SCALE="scale",t.A_OFFSET="offset",t.A_LOOP="loop",t.A_EVENT="event",t.A_EVENT_PARAMETERS="eventParameters",t.A_SOUND="sound",t.A_ACTION="action",t.A_HIDE="hide",t.A_AUTO_TWEEN="autoTween",t.A_TWEEN_EASING="tweenEasing",t.A_TWEEN_ROTATE="tweenRotate",t.A_TWEEN_SCALE="tweenScale",t.A_DISPLAY_INDEX="displayIndex",t.A_Z_ORDER="z",t.A_BLENDMODE="blendMode",t.A_WIDTH="width",t.A_HEIGHT="height",t.A_INHERIT_SCALE="inheritScale",t.A_INHERIT_ROTATION="inheritRotation",t.A_X="x",t.A_Y="y",t.A_SKEW_X="skX",t.A_SKEW_Y="skY",t.A_SCALE_X="scX",t.A_SCALE_Y="scY",t.A_PIVOT_X="pX",t.A_PIVOT_Y="pY",t.A_ALPHA_OFFSET="aO",t.A_RED_OFFSET="rO",t.A_GREEN_OFFSET="gO",t.A_BLUE_OFFSET="bO",t.A_ALPHA_MULTIPLIER="aM",t.A_RED_MULTIPLIER="rM",t.A_GREEN_MULTIPLIER="gM",t.A_BLUE_MULTIPLIER="bM",t.A_SCALE_X_OFFSET="scXOffset",t.A_SCALE_Y_OFFSET="scYOffset",t.A_SCALE_MODE="scaleMode",t.A_FIXED_ROTATION="fixedRotation",t.DATA_XML_LIST_NAMES=[t.ARMATURE,t.BONE,t.SKIN,t.SLOT,t.DISPLAY,t.ANIMATION,t.TIMELINE,t.FRAME,t.ELLIPSE,t.RECTANGLE],t.PNG_XML_LIST_NAMES=[t.SUB_TEXTURE],t}(),s=function(){function t(){}return t.optimizeData=function(t){for(var e,n=0,r=t.armature;n<r.length;n++){var i=r[n];if(e=i.bone){for(var o=0,a=e;o<a.length;o++){var s=a[o];this.optimizeTransform(s.transform)}var u=i.skin,l=void 0,c=void 0;if(u){for(var h=0,f=u;h<f.length;h++)if(l=f[h].slot)for(var d=0,p=l;d<p.length;d++)if(c=p[d].display)for(var m=0,_=c;m<_.length;m++){var g=_[m];this.optimizeTransform(g.transform)}for(var v=void 0,y=void 0,b=0,w=i.animation;b<w.length;b++){var x=w[b];if(this.optimizeAnimation(x),v=x.timeline)for(var A=0,k=v;A<k.length;A++){var E=k[A];if(this.optimizeTimeline(E),y=E.frame)for(var T=0,S=y;T<S.length;T++){var O=S[T];this.optimizeFrame(O),this.optimizeTransform(O.transform),this.optimizeColorTransform(O.colorTransform)}}}}}}},t.optimizeAnimation=function(t){this.optimizeItem(t,this.animationPropertyArray,this.animationValueArray,4)},t.optimizeTimeline=function(t){this.optimizeItem(t,this.timelinePropertyArray,this.timelineValueArray,4)},t.optimizeFrame=function(t){this.optimizeItem(t,this.framePropertyArray,this.frameValueArray,4)},t.optimizeTransform=function(t){this.optimizeItem(t,this.transformPropertyArray,this.transformValueArray,4)},t.optimizeColorTransform=function(t){this.optimizeItem(t,this.transformPropertyArray,this.transformValueArray,4)},t.optimizeItem=function(t,e,n,r){if(void 0===r&&(r=4),t)for(var i,o,a=e.length;a--;)i=e[a],o=n[a],t.hasOwnProperty(i)&&(this.compareWith(t[i],o,r)?delete t[i]:t[i]=Number(Number(t[i]).toFixed(r)))},t.compareWith=function(t,e,n){var r=1/Math.pow(10,n);return t>=e-r&&t<=e+r},t.animationPropertyArray=[a.A_FADE_IN_TIME,a.A_SCALE,a.A_LOOP],t.animationValueArray=[0,1,1],t.timelinePropertyArray=[a.A_SCALE,a.A_OFFSET,a.A_PIVOT_X,a.A_PIVOT_Y],t.timelineValueArray=[1,0,0,0],t.framePropertyArray=[a.A_TWEEN_SCALE,a.A_TWEEN_ROTATE,a.A_HIDE,a.A_DISPLAY_INDEX,a.A_SCALE_X_OFFSET,a.A_SCALE_Y_OFFSET],t.frameValueArray=[1,0,0,0,0,0],t.transformPropertyArray=[a.A_X,a.A_Y,a.A_SKEW_X,a.A_SKEW_Y,a.A_SCALE_X,a.A_SCALE_Y,a.A_PIVOT_X,a.A_PIVOT_Y],t.transformValueArray=[0,0,0,0,1,1,0,0],t.colorTransformPropertyArray=[a.A_ALPHA_OFFSET,a.A_RED_OFFSET,a.A_GREEN_OFFSET,a.A_BLUE_OFFSET,a.A_ALPHA_MULTIPLIER,a.A_RED_MULTIPLIER,a.A_GREEN_MULTIPLIER,a.A_BLUE_MULTIPLIER],t.colorTransformValueArray=[0,0,0,0,100,100,100,100],t}(),u=function(){function t(){}return t.parseXmlStrToJson=function(e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),!e)return null;t._parser||(t._parser=new o.default({attributePrefix:"",ignoreRoot:!0,attributeConverters:t.attributeConverters,emptyNodeForm:"object"}));var u=t._parser.xml2js(e);return u.hasOwnProperty("armature")?(t.convertListObjToArray(u,a.DATA_XML_LIST_NAMES),n&&i.DataV23ToV30Util.convert(u),r&&s.optimizeData(u)):t.convertListObjToArray(u,a.PNG_XML_LIST_NAMES),u},t.convertListObjToArray=function(e,n){if(e&&"object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&(e[r]instanceof Array||-1===n.indexOf(r)||(e[r]=[e[r]]),t.convertListObjToArray(e[r],n))},t.attributeConverters=[{test:function(t,e){return t!==a.A_NAME&&t!==a.A_PARENT&&(t===a.A_TWEEN_EASING||!isNaN(e))},convert:function(t,e){return Number(e)}},{test:function(t,e){return/^(?:true|false)$/i.test(e)},convert:function(t,e){return"true"===e.toLowerCase()}}],t}();e.DragonBonesXmlUtil=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataV23ToV30Util=void 0;var r=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o}return t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.copyFromArray=function(t,e){return void 0===e&&(e=0),this.a=t[e],this.b=t[e+1],this.c=t[e+2],this.d=t[e+3],this.tx=t[e+4],this.ty=t[e+5],this},t.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this},t.prototype.concat=function(t){var e=this.a*t.a,n=0,r=0,i=this.d*t.d,o=this.tx*t.a+t.tx,a=this.ty*t.d+t.ty;return 0===this.b&&0===this.c||(e+=this.b*t.c,n+=this.b*t.d,r+=this.c*t.a,i+=this.c*t.b),0===t.b&&0===t.c||(n+=this.a*t.b,r+=this.d*t.c,o+=this.ty*t.c,a+=this.tx*t.b),this.a=e,this.b=n,this.c=r,this.d=i,this.tx=o,this.ty=a,this},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=this.ty;if(0===e&&0===n)return this.b=this.c=0,0===t||0===r?this.a=this.b=this.tx=this.ty=0:(t=this.a=1/t,r=this.d=1/r,this.tx=-t*i,this.ty=-r*o),this;var a=t*r-e*n;if(0===a)return this.a=this.d=1,this.b=this.c=0,this.tx=this.ty=0,this;a=1/a;var s=this.a=r*a;return e=this.b=-e*a,n=this.c=-n*a,r=this.d=t*a,this.tx=-(s*i+n*o),this.ty=-(e*i+r*o),this},t.prototype.transformPoint=function(t,e,n,r){void 0===r&&(r=!1),n.x=this.a*t+this.c*e,n.y=this.b*t+this.d*e,r||(n.x+=this.tx,n.y+=this.ty)},t}(),i=function(){function t(){}return t.convert=function(t){if(t&&String(t[this.VERSION])===this.V_23){t[this.VERSION]=this.V_30,t[this.IS_GLOBAL]=0;var e=t.armature;if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];this.sortArmatureBoneList(i),this.transformArmatureData(i),this.transformArmatureDataAnimations(i)}}},t.transformArmatureData=function(t){var e=t.bone;if(e){for(var n,r,i=[],o=e.length,a=0;a<o;a++)(n=this.cloneObject(e[a])).parent&&(r=this.findBoneData(t,n.parent))&&this.globalToLocal(n.transform,r.transform),i.push(n);e.length=0;for(var s=0,u=i;s<u.length;s++)n=u[s],e.push(n)}},t.transformArmatureDataAnimations=function(t){for(var e=t.animation,n=e?e.length-1:-1;n>=0;)this.transformAnimationData(e[n],t),n--},t.sortArmatureBoneList=function(t){var e=[],n=t.bone;if(n){for(var r=0,i=n;r<i.length;r++){for(var o=0,a=l=i[r];a;)o++,a=this.findBoneData(t,a.parent);e.push([o,l])}e.sort((function(t,e){return e[0]-t[0]})),n.length=0;for(var s=0,u=e;s<u.length;s++){var l=u[s];n.push(l[1])}}},t.transformAnimationData=function(t,e){var n,r=e.skin;r&&(n=r[0]);var i=e.bone;if(i){for(var o,a,s,u,l=0,c=i;l<c.length;l++)if(o=c[l],a=this.findTimelineData(t,o.name)){var h=0;if(s=a.frame){for(var f=0,d=s;f<d.length;f++)(u=d[f]).global=this.cloneObject(u.transform),u.position=h,h+=u.duration;for(var p=this.findSlotData(n,o.name),m=null,_=0,g=s;_<g.length;_++)if(null!=(u=g[_]).transform){if(this.calculateFrameTransform(t,e,o,u),u.transform.x-=o.transform.x,u.transform.y-=o.transform.y,u.transform.skX=this.formatAngle(u.transform.skX-o.transform.skX),u.transform.skY=this.formatAngle(u.transform.skY-o.transform.skY),u.transform.scX/=o.transform.scX,u.transform.scY/=o.transform.scY,p&&(u.z-=p.z),m){var v=u.transform.skX-m.transform.skX;m.tweenRotate?m.tweenRotate>0?(v<0&&(u.transform.skX+=360,u.transform.skY+=360),m.tweenRotate>1&&(u.transform.skX+=360*(m.tweenRotate-1),u.transform.skY+=360*(m.tweenRotate-1))):(v>0&&(u.transform.skX-=360,u.transform.skY-=360),m.tweenRotate<1&&(u.transform.skX+=360*(m.tweenRotate+1),u.transform.skY+=360*(m.tweenRotate+1))):(u.transform.skX=m.transform.skX+this.formatAngle(u.transform.skX-m.transform.skX),u.transform.skY=m.transform.skY+this.formatAngle(u.transform.skY-m.transform.skY))}m=u}}}var y=t.timeline;if(y)for(var b=0,w=y;b<w.length;b++)if(s=(a=w[b]).frame)for(var x=0,A=s;x<A.length;x++)delete(u=A[x]).position,delete u.global}},t.findBoneData=function(t,e){if(e){var n=t.bone;if(!n)return null;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(o.name===e)return o}}return null},t.cloneObject=function(t){return t?JSON.parse(JSON.stringify(t)):t},t.globalToLocal=function(t,e){this.transformToMatrix(t,this._helpTransformMatrix,!0),this.transformToMatrix(e,this._helpParentTransformMatrix,!0),this._helpParentTransformMatrix.invert(),this._helpTransformMatrix.concat(this._helpParentTransformMatrix),this.matrixToTransform(this._helpTransformMatrix,t,t.scX*e.scX>=0,t.scY*e.scY>=0)},t.transformToMatrix=function(t,e,n){void 0===n&&(n=!1),n?(e.a=t.scX*Math.cos(t.skY*this.ANGLE_TO_RADIAN),e.b=t.scX*Math.sin(t.skY*this.ANGLE_TO_RADIAN),e.c=-t.scY*Math.sin(t.skX*this.ANGLE_TO_RADIAN),e.d=t.scY*Math.cos(t.skX*this.ANGLE_TO_RADIAN),e.tx=t.x,e.ty=t.y):(e.a=Math.cos(t.skY*this.ANGLE_TO_RADIAN),e.b=Math.sin(t.skY*this.ANGLE_TO_RADIAN),e.c=-Math.sin(t.skX*this.ANGLE_TO_RADIAN),e.d=Math.cos(t.skX*this.ANGLE_TO_RADIAN),e.tx=t.x,e.ty=t.y)},t.matrixToTransform=function(t,e,n,r){e.x=t.tx,e.y=t.ty,e.scX=Math.sqrt(t.a*t.a+t.b*t.b)*(n?1:-1),e.scY=Math.sqrt(t.d*t.d+t.c*t.c)*(r?1:-1);var i=[];i[0]=Math.acos(t.d/e.scY),i[1]=-i[0],i[2]=Math.asin(-t.c/e.scY),i[3]=i[2]>=0?Math.PI-i[2]:i[2]-Math.PI,Number(i[0]).toFixed(4)===Number(i[2]).toFixed(4)||Number(i[0]).toFixed(4)===Number(i[3]).toFixed(4)?e.skX=i[0]:e.skX=i[1];var o=[];o[0]=Math.acos(t.a/e.scX),o[1]=-o[0],o[2]=Math.asin(t.b/e.scX),o[3]=o[2]>=0?Math.PI-o[2]:o[2]-Math.PI,Number(o[0]).toFixed(4)===Number(o[2]).toFixed(4)||Number(o[0]).toFixed(4)===Number(o[3]).toFixed(4)?e.skY=o[0]:e.skY=o[1],e.skX*=this.RADIAN_TO_ANGLE,e.skY*=this.RADIAN_TO_ANGLE},t.findTimelineData=function(t,e){if(t&&e){var n=t.timeline;if(!n)return null;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(o.name===e)return o}}return null},t.findSlotData=function(t,e){if(t&&e){var n=t.slot;if(!n)return null;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(o.name===e)return o}}return null},t.calculateFrameTransform=function(t,e,n,i){var o=this.findBoneData(e,n.parent);if(o){var a=this.findTimelineData(t,o.name);if(a){for(var s=[],u=[];a;)s.push(a),u.push(o),a=(o=this.findBoneData(e,o.parent))?this.findTimelineData(t,o.name):null;for(var l=void 0,c=new r,h={},f=new r,d=s.length-1;d>=0;)a=s[d],o=u[d],this.calculateTimelineTransform(a,i.position,h,!l),l?(h.x+=o.transform.x,h.y+=o.transform.y,h.skX+=o.transform.skX,h.skY+=o.transform.skY,h.scX*=o.transform.scX,h.scY*=o.transform.scY,this.transformToMatrix(h,f,!0),f.concat(c),this.matrixToTransform(f,l,h.scX*l.scX>=0,h.scY*l.scY>=0)):(l={},this.copyTransform(h,l)),this.transformToMatrix(l,c,!0),d--;this.globalToLocal(i.transform,l)}}},t.calculateTimelineTransform=function(t,e,n,r){for(var i=t.frame,o=i?i.length-1:-1;o>=0;){var a=i[o];if(a.position<=e&&a.position+a.duration>e){if(o===i.length-1||e===a.position){var s=r?a.global:a.transform;this.copyTransform(s,n)}else{var u=a.tweenEasing,l=(e-a.position)/a.duration;u&&10!==u&&(l=this.getEaseValue(l,u));var c=i[o+1],h=r?a.global:a.transform,f=r?c.global:c.transform;n.x=h.x+(f.x-h.x)*l,n.y=h.y+(f.y-h.y)*l,n.skX=this.formatAngle(h.skX+(f.skX-h.skX)*l),n.skY=this.formatAngle(h.skY+(f.skY-h.skY)*l),n.scX=h.scX+(f.scX-h.scX)*l,n.scY=h.scY+(f.scY-h.scY)*l}break}o--}},t.copyTransform=function(t,e){e.x=t.x,e.y=t.y,e.skX=t.skX,e.skY=t.skY,e.scX=t.scX,e.scY=t.scY},t.getEaseValue=function(t,e){var n=1;return e>1?(n=.5*(1-Math.cos(t*Math.PI)),e-=1):e>0?n=1-Math.pow(1-t,2):e<0&&(e*=-1,n=Math.pow(t,2)),(n-t)*e+t},t.formatAngle=function(t){return(t%=360)>180?t-=360:t<-180&&(t+=360),t},t.ANGLE_TO_RADIAN=Math.PI/180,t.RADIAN_TO_ANGLE=180/Math.PI,t.VERSION="version",t.IS_GLOBAL="isGlobal",t.V_23="2.3",t.V_30="3.0",t._helpTransformMatrix=new r,t._helpParentTransformMatrix=new r,t}();e.DataV23ToV30Util=i},function(t,e,n){var r,i,o;!function(n,a){"use strict";i=[],void 0===(o="function"==typeof(r=function(t){return function(e){function n(t){var e=t.localName;return null==e&&(e=t.baseName),null!=e&&""!==e||(e=t.nodeName),e}function r(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):t}function i(t,n,r){switch(e.arrayAccessForm){case"property":t[n]instanceof Array?t[n+"_asArray"]=t[n]:t[n+"_asArray"]=[t[n]]}if(!(t[n]instanceof Array)&&e.arrayAccessFormPaths.length>0){for(var i=!1,o=0;o<e.arrayAccessFormPaths.length;o++){var a=e.arrayAccessFormPaths[o];if("string"==typeof a){if(a===r){i=!0;break}}else if(a instanceof RegExp){if(a.test(r)){i=!0;break}}else if("function"==typeof a&&a(n,r)){i=!0;break}}i&&(t[n]=[t[n]])}}function o(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),r=e[5].split(".");if(n.setHours(e[3],e[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),e[6]&&e[7]){var i=60*e[6]+Number(e[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(t)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function a(t,r){for(var a={__cnt:0},u=t.childNodes,l=0;l<u.length;l++){var c=u.item(l),h=n(c);8!==c.nodeType&&(a.__cnt++,null==a[h]?(a[h]=s(c,r+"."+h),i(a,h,r+"."+h)):(a[h]instanceof Array||(a[h]=[a[h]],i(a,h,r+"."+h)),a[h][a[h].length]=s(c,r+"."+h)))}for(var f=0;f<t.attributes.length;f++){var d=t.attributes.item(f);a.__cnt++;for(var p=d.value,m=0;m<e.attributeConverters.length;m++){var _=e.attributeConverters[m];_.test.call(null,d.name,d.value)&&(p=_.convert.call(null,d.name,d.value))}a[e.attributePrefix+d.name]=p}var g=t.prefix;return g&&(a.__cnt++,a.__prefix=g),a["#text"]&&(a.__text=a["#text"],a.__text instanceof Array&&(a.__text=a.__text.join("\n")),e.escapeMode&&(a.__text=a.__text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")),e.stripWhitespaces&&(a.__text=a.__text.trim()),delete a["#text"],"property"===e.arrayAccessForm&&delete a["#text_asArray"],a.__text=function(t,n,r){if(e.datetimeAccessFormPaths.length>0)for(var i=r.split(".#")[0],a=0;a<e.datetimeAccessFormPaths.length;a++){var s=e.datetimeAccessFormPaths[a];if("string"==typeof s){if(s===i)return o(t)}else if(s instanceof RegExp){if(s.test(i))return o(t)}else if("function"==typeof s&&s(i))return o(t)}return t}(a.__text,0,r+".#text")),a.hasOwnProperty("#cdata-section")&&(a.__cdata=a["#cdata-section"],delete a["#cdata-section"],"property"===e.arrayAccessForm&&delete a["#cdata-section_asArray"]),1===a.__cnt&&a.__text&&!e.keepText?a=a.__text:0===a.__cnt&&"text"===e.emptyNodeForm?a="":a.__cnt>1&&void 0!==a.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""===a.__text||""===a.__text.trim())&&delete a.__text,delete a.__cnt,e.keepCData||a.hasOwnProperty("__text")||!a.hasOwnProperty("__cdata")||1!==Object.keys(a).length?(e.enableToStringFunc&&(a.__text||a.__cdata)&&(a.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),a):a.__cdata?a.__cdata:""}function s(t,r){return 9===t.nodeType?function(t){for(var r={},i=t.childNodes,o=0;o<i.length;o++){var a=i.item(o);if(1===a.nodeType){var u=n(a);e.ignoreRoot?r=s(a,u):r[u]=s(a,u)}}return r}(t):1===t.nodeType?a(t,r):3===t.nodeType||4===t.nodeType?t.nodeValue:null}function u(t,n,i,o){var a="<"+(t&&t.__prefix?t.__prefix+":":"")+n;if(i)for(var s=0;s<i.length;s++){var u=i[s],l=t[u];e.escapeMode&&(l=r(l)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+l+'"':a+="'"+l+"'"}return a+(o?" />":">")}function l(t,e){return"</"+(t&&t.__prefix?t.__prefix+":":"")+e+">"}function c(t,n){return"property"===e.arrayAccessForm&&(i="_asArray",-1!==(r=n.toString()).indexOf(i,r.length-i.length))||0===n.toString().indexOf(e.attributePrefix)||0===n.toString().indexOf("__")||t[n]instanceof Function;var r,i}function h(t){var e=0;if(t instanceof Object)for(var n in t)c(t,n)||e++;return e}function f(t){var n=[];if(t instanceof Object)for(var r in t)-1===r.toString().indexOf("__")&&0===r.toString().indexOf(e.attributePrefix)&&n.push(r);return n}function d(t){var n="";return t instanceof Object?n+=function(t){var n="";return t.__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),(t.__text||"number"==typeof t.__text||"boolean"==typeof t.__text)&&(e.escapeMode?n+=r(t.__text):n+=t.__text),n}(t):null!==t&&(e.escapeMode?n+=r(t):n+=t),n}function p(t,n,r){var i="";return e.jsAttributeFilter&&e.jsAttributeFilter.call(null,n,t)||(e.jsAttributeConverter&&(t=e.jsAttributeConverter.call(null,n,t)),null!=t&&""!==t||!e.selfClosingElements?"object"==typeof t?"[object Array]"===Object.prototype.toString.call(t)?i+=function(t,e,n){var r="";if(0===t.length)r+=u(t,e,n,!0);else for(var i=0;i<t.length;i++)r+=p(t[i],e,f(t[i]));return r}(t,n,r):t instanceof Date?(i+=u(t,n,r,!1),i+=e.jsDateUTC?t.toUTCString():t.toISOString(),i+=l(t,n)):h(t)>0||"number"==typeof t.__text||"boolean"==typeof t.__text||t.__text||t.__cdata?(i+=u(t,n,r,!1),i+=m(t),i+=l(t,n)):e.selfClosingElements?i+=u(t,n,r,!0):(i+=u(t,n,r,!1),i+=l(t,n)):(i+=u(t,n,r,!1),i+=d(t),i+=l(t,n)):i+=u(t,n,r,!0)),i}function m(t){var e="";if(h(t)>0)for(var n in t)if(!c(t,n)){var r=t[n];e+=p(r,n,f(r))}return e+d(t)}function _(n){if(void 0===n)return null;if("string"!=typeof n)return null;var r=null,i=null;if(t)i=(r=new t(e.xmldomOptions)).parseFromString(n,"text/xml");else if(window&&window.DOMParser){r=new window.DOMParser;var o=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{o=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(t){o=null}try{i=r.parseFromString(n,"text/xml"),null!==o&&i.getElementsByTagNameNS(o,"parsererror").length>0&&(i=null)}catch(t){i=null}}else 0===n.indexOf("<?")&&(n=n.substr(n.indexOf("?>")+2)),(i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(n);return i}(e=e||{}).arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",e.jsAttributeFilter=e.jsAttributeFilter,e.jsAttributeConverter=e.jsAttributeConverter,e.attributeConverters=e.attributeConverters||[],e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],e.xmldomOptions=e.xmldomOptions||{},void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0),void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0),void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0),void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!0),void 0===e.ignoreRoot&&(e.ignoreRoot=!1),void 0===e.escapeMode&&(e.escapeMode=!0),void 0===e.attributePrefix&&(e.attributePrefix="_"),void 0===e.selfClosingElements&&(e.selfClosingElements=!0),void 0===e.keepCData&&(e.keepCData=!1),void 0===e.keepText&&(e.keepText=!1),void 0===e.jsDateUTC&&(e.jsDateUTC=!1),function(){function t(t){var e=String(t);return 1===e.length&&(e="0"+e),e}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}(),this.asArray=function(t){return null==t?[]:t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?o(t):t},this.xml2dom=function(t){return _(t)},this.dom2js=function(t){return s(t,null)},this.js2dom=function(t){return _(this.js2xml(t))},this.xml2js=function(t){var e=_(t);return null!=e?this.dom2js(e):null},this.js2xml=function(t){return m(t)},this.getVersion=function(){return"3.4.0"}}})?r.apply(e,i):r)||(t.exports=o)}()},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dbToNew=void 0;var s=n(10),u=o(n(1)),l=o(n(2)),c=a(n(11)),h=a(n(12));e.dbToNew=function(t,e){var n=s.josnToFormat(t,(function(){var t=new u.TextureAtlas;return l.copyObjectFrom(e,t,u.copyConfig),[t]}));return n?(h.default(n,!1),c.default(n),l.compress(n,u.compressConfig),n):null}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.josnToFormat=void 0;var a,s=o(n(2)),u=o(n(0)),l=o(n(1)),c=o(n(4));function h(t,e){var n=t.version;if(l.DATA_VERSIONS.indexOf(n)<l.DATA_VERSIONS.indexOf(l.DATA_VERSION_4_0)){a=e();var r=new c.DragonBones;return s.copyObjectFrom(t,r,c.copyConfig),function(t){var e=new l.DragonBones;e.frameRate=t.frameRate,e.name=t.name,e.version=l.DATA_VERSION_4_5,e.compatibleVersion=l.DATA_VERSION_4_0;for(var n=0,r=t.armature;n<r.length;n++){var i=r[n],o=new l.Armature;o.name=i.name,e.armature.push(o);for(var s=0,u=i.bone;s<u.length;s++){var c=u[s];(L=new l.Bone).inheritScale=!1,L.name=c.name,L.parent=c.parent,L.transform.copyFrom(c.transform),o.bone.push(L)}for(var h=0,d=i.skin;h<d.length;h++){var g=d[h],v=new l.Skin;v.name=g.name,o.skin.push(v),g.slot.sort(m);for(var y=0,b=g.slot;y<b.length;y++){var w=b[y];(z=o.getSlot(w.name))||((z=new l.Slot).blendMode=w.blendMode||l.BlendMode[l.BlendMode.Normal].toLowerCase(),z.displayIndex=w.displayIndex,z.name=w.name,z.parent=w.parent,z.color.copyFrom(w.colorTransform),o.slot.push(z));var x=new l.SkinSlot;x.name=w.name,v.slot.push(x);for(var A=0,k=w.display;A<k.length;A++){var E=k[A];if(E.type===l.DisplayType[l.DisplayType.Image].toLowerCase()){(S=new l.ImageDisplay).name=E.name,S.transform.copyFrom(E.transform),S.transform.pX=0,S.transform.pY=0;var T=l.getTextureFormTextureAtlases(S.name,a);T&&(S.transform.x+=.5*T.width-E.transform.pX,S.transform.y+=.5*T.height-E.transform.pY),x.display.push(S)}else{var S;(S=new l.ArmatureDisplay).name=E.name,S.transform.copyFrom(E.transform),x.display.push(S)}}}}for(var O=0,C=i.animation;O<C.length;O++){var F=C[O],P=new l.Animation;P.duration=F.duration,P.playTimes=F.loop,P.scale=F.scale,P.fadeInTime=F.fadeInTime,P.name=F.name,o.animation.push(P);for(var I=0,D=F.frame;I<D.length;I++){var M=D[I];(Q=new l.ActionFrame).duration=M.duration,Q.action=M.action,Q.event=M.event,Q.sound=M.sound,P.frame.push(Q)}for(var B=0,R=F.timeline;B<R.length;B++){var N=R[B],L=o.getBone(N.name),z=o.getSlot(N.name),j=new l.BoneTimeline,U=new l.SlotTimeline;j.scale=U.scale=N.scale,j.offset=U.offset=N.offset,j.name=U.name=N.name,P.bone.push(j),P.slot.push(U);for(var Y=0,X=null,V=null,H=0,G=N.frame;H<G.length;H++){M=G[H];var W=new l.BoneAllFrame,Z=new l.SlotAllFrame;if(W.duration=M.duration,null===M.tweenEasing?F.autoTween?null===F.tweenEasing?(W.tweenEasing=0,Z.tweenEasing=0):(W.tweenEasing=F.tweenEasing,Z.tweenEasing=F.tweenEasing):(W.tweenEasing=NaN,Z.tweenEasing=NaN):(W.tweenEasing=M.tweenEasing,Z.tweenEasing=M.tweenEasing),W.curve=M.curve,W.tweenRotate=M.tweenRotate,W.transform.copyFrom(M.transform),Z.duration=M.duration,Z.curve=M.curve,Z.displayIndex=M.displayIndex,Z.color.copyFrom(M.colorTransform),j.frame.push(W),U.frame.push(Z),X&&V&&M.displayIndex<0&&(X.removeTween(),V.removeTween()),W.transform.toMatrix(f),f.transformPoint(M.transform.pX,M.transform.pY,p,!0),W.transform.x+=p.x,W.transform.y+=p.y,M.hide&&(Z.displayIndex=-1),M.action){var K=new l.Action;K.type=l.ActionType.Play,K.name=M.action,Z.actions.push(K)}(M.event||M.sound)&&l.mergeActionToAnimation(P,M,Y,L,z,!0),Y+=M.duration,X=W,V=Z}}for(var J=0,q=o.slot;J<q.length;J++){z=q[J];var Q,$=P.getSlotTimeline(z.name);$||((Q=new l.SlotAllFrame).displayIndex=-1,($=new l.SlotTimeline).name=z.name,$.frame.push(Q),P.slot.push($))}}t.isGlobal&&(o.sortBones(),_(o))}return e}(r)}var i=new l.DragonBones;return s.copyObjectFrom(t,i,l.copyConfig),i}e.default=function(t,e){if(!l.isDragonBonesString(t))return null;try{return h(JSON.parse(t),e)}catch(t){}return null},e.josnToFormat=h;var f=new u.Matrix,d=new u.Transform,p=new u.Point;function m(t,e){return t.z<e.z?-1:1}function _(t){for(var e=0,n=t.bone.concat().reverse();e<n.length;e++){var r=n[e],i=t.getBone(r.parent);i?(i.transform.toMatrix(f),f.invert(),f.transformPoint(r.transform.x,r.transform.y,p),r.transform.x=p.x,r.transform.y=p.y,r.transform.skX-=i.transform.skY,r.transform.skY-=i.transform.skY):r.parent="";for(var o=0,a=t.animation;o<a.length;o++){var s=a[o],l=s.getBoneTimeline(r.name);if(l)for(var c=i?s.getBoneTimeline(i.name):null,h=0,m=0,_=l.frame;m<_.length;m++){var v=_[m];c&&(g(c,h,d),d.toMatrix(f),f.invert(),f.transformPoint(v.transform.x,v.transform.y,p),v.transform.x=p.x,v.transform.y=p.y,v.transform.skX-=d.skY,v.transform.skY-=d.skY),v.transform.x-=r.transform.x,v.transform.y-=r.transform.y,v.transform.skX=u.normalizeDegree(v.transform.skX-r.transform.skY),v.transform.skY=u.normalizeDegree(v.transform.skY-r.transform.skY),v.transform.scX/=r.transform.scX,v.transform.scY/=r.transform.scY,h+=v.duration}}}}function g(t,e,n){for(var r=0,i=null,o=null,a=0,s=t.frame;a<s.length;a++){var l=s[a];if(r<=e&&e<r+l.duration){i=l;break}r+=l.duration}if(i||(i=t.frame[t.frame.length-1]),(!isNaN(i.tweenEasing)||i.curve.length>0)&&t.frame.length>1){var c=t.frame.indexOf(i)+1;c>=t.frame.length&&(c=0),o=t.frame[c]}if(o){var h=i.getTweenProgress((e-r)/i.duration);n.x=o.transform.x-i.transform.x,n.y=o.transform.y-i.transform.y,n.skX=u.normalizeRadian(o.transform.skX-i.transform.skX),n.skY=u.normalizeRadian(o.transform.skY-i.transform.skY),n.scX=o.transform.scX-i.transform.scX,n.scY=o.transform.scY-i.transform.scY,n.x=i.transform.x+n.x*h,n.y=i.transform.y+n.y*h,n.skX=i.transform.skX+n.skX*h,n.skY=i.transform.skY+n.skY*h,n.scX=i.transform.scX+n.scX*h,n.scY=i.transform.scY+n.scY*h}else n.copyFrom(i.transform)}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=o(n(1));function u(t){for(var e=0,n=t.length;e<n;++e)t[e]=Number(t[e].toFixed(2));for(var r=0;0===t[r]&&++r!=t.length-1;);for(var i=t.length;i>r&&0===t[i-1];)i--;var o=0;for(e=r;e<i;++e)t[o++]=t[e];return t.length=i-r,r}function l(t){for(var e=0,n=t.SubTexture;e<n.length;e++){var r=n[e];t.width>0&&r.x+r.width>t.width&&(r.width=t.width-r.x),t.height>0&&r.y+r.height>t.height&&(r.height=t.height-r.x),r.x<0&&(r.x=0),r.y<0&&(r.y=0),r.width<0&&(r.width=0),r.height<0&&(r.height=0),(r.frameWidth===r.width&&r.frameHeight===r.height||r.frameWidth===r.height&&r.frameHeight===r.width)&&(r.frameWidth=0,r.frameHeight=0),r.frameWidth<0&&(r.frameWidth=0),r.frameHeight<0&&(r.frameHeight=0)}}function c(t){for(var e=null,n=0,r=t.length;n<r;++n){var i=t[n];!e||!e.equal(i)||n!==r-1&&i instanceof s.TweenFrame&&!i.equal(t[n+1])?e=i:(e.duration+=i.duration,n===r-1&&e instanceof s.TweenFrame&&e.removeTween(),t.splice(n,1),n--,r--)}}function h(t){for(var e,n,r,i=null,o=null,a=0,s=t.length;a<s;++a){var u=t[a];a!==s-1&&i&&o&&i.getTweenEnabled()&&o.getTweenEnabled()&&(e=i,n=o,r=u,Math.abs((n.value-e.value)/e.duration-(r.value-n.value)/n.duration)<.01)?(i.duration+=o.duration,t.splice(a-1,1),a--,s--,o=u):(i=o,o=u)}}e.default=function(t,e){if(void 0===e&&(e=null),t){for(var n=0,r=t.armature;n<r.length;n++){var i=r[n];if(i.canvas&&(i.canvas.hasBackground?i.canvas.hasBackground=!1:i.canvas.color=-1),0===i.bone.length)return i.slot.length=0,i.ik.length=0,i.path.length=0,i.skin.length=0,i.animation.length=0,i.defaultActions.length=0,void(i.actions.length=0);i.aabb.toFixed();for(var o=0,f=i.bone;o<f.length;o++)if((R=f[o]).parent&&!i.getBone(R.parent)&&(R.parent=""),R.alpha=Number(R.alpha.toFixed(2)),R instanceof s.Surface)for(var d=0,p=(Q=R.vertices).length;d<p;++d)Q[d]=Number(Q[d].toFixed(2));else R.transform.skX=a.normalizeDegree(R.transform.skX),R.transform.skY=a.normalizeDegree(R.transform.skY),0===R.transform.scX&&(R.transform.scX=1e-6),0===R.transform.scY&&(R.transform.scY=1e-6),R.transform.toFixed();for(var m=0,_=i.slot;m<_.length;m++)(J=_[m]).parent&&i.getBone(J.parent)||(J.parent=i.bone[0].name),J.alpha=Number(J.alpha.toFixed(2)),J.color.toFixed();for(var g=0,v=i.ik;g<v.length;g++){var y=v[g];!y.target||y.bone,y.weight=Number(y.weight.toFixed(2))}for(var b=0,w=i.path;b<w.length;b++){var x=w[b];!x.target||x.bones,x.position=Number(x.position.toFixed(2)),x.spacing=Number(x.spacing.toFixed(2)),x.rotateOffset=Number(x.rotateOffset.toFixed(2)),x.rotateMix=Number(x.rotateMix.toFixed(2)),x.translateMix=Number(x.translateMix.toFixed(2))}i.sortBones();for(var A=0,k=i.skin;A<k.length;A++)for(var E=0,T=k[A].slot;E<T.length;E++){var S=T[E];if(i.getSlot(S.name)){S.actions.length=0;for(var O=0,C=S.display;O<C.length;O++)if(q=C[O]){if((q instanceof s.ImageDisplay||q instanceof s.MeshDisplay||q instanceof s.SharedMeshDisplay||q instanceof s.ArmatureDisplay)&&q.path===q.name&&(q.path=""),q instanceof s.MeshDisplay){if(q.weights.length>0){for(d=0,p=q.weights.length;d<p;++d)q.weights[d]=Number(q.weights[d].toFixed(6));for(d=0,p=q.bonePose.length;d<p;++d)q.bonePose[d]=Number(q.bonePose[d].toFixed(6));q._matrix.copyFromArray(q.slotPose,0),q.transform.identity(),q.slotPose[0]=1,q.slotPose[1]=0,q.slotPose[2]=0,q.slotPose[3]=1,q.slotPose[4]=0,q.slotPose[5]=0}else q.transform.toMatrix(q._matrix),q.transform.identity();for(d=0,p=q.uvs.length;d<p;++d)q.uvs[d]=Number(q.uvs[d].toFixed(6));for(d=0,p=q.vertices.length;d<p;d+=2)q._matrix.transformPoint(q.vertices[d],q.vertices[d+1],a.helpPointA),q.vertices[d]=Number(a.helpPointA.x.toFixed(2)),q.vertices[d+1]=Number(a.helpPointA.y.toFixed(2))}if(q instanceof s.PathDisplay){for(d=0,p=q.lengths.length;d<p;++d)q.lengths[d]=Number(q.lengths[d].toFixed(2));for(d=0,p=q.vertices.length;d<p;++d)q.vertices[d]=Number(q.vertices[d].toFixed(2));for(d=0,p=q.weights.length;d<p;++d)q.weights[d]=Number(q.weights[d].toFixed(6))}if((q instanceof s.RectangleBoundingBoxDisplay||q instanceof s.EllipseBoundingBoxDisplay)&&(q.width=Number(q.width.toFixed(2)),q.height=Number(q.height.toFixed(2))),q instanceof s.PolygonBoundingBoxDisplay)for(q.transform.toMatrix(a.helpMatrixA),q.transform.identity(),d=0,p=q.vertices.length;d<p;d+=2)a.helpMatrixA.transformPoint(q.vertices[d],q.vertices[d+1],a.helpPointA),q.vertices[d]=Number(a.helpPointA.x.toFixed(2)),q.vertices[d+1]=Number(a.helpPointA.y.toFixed(2));q.transform.skX=a.normalizeDegree(q.transform.skX),q.transform.skY=a.normalizeDegree(q.transform.skY),q.transform.toFixed()}}else S.display.length=0}for(var F=0,P=i.animation;F<P.length;F++){var I=P[F];if(I instanceof s.Animation){if(I.zOrder){for(var D=0,M=I.zOrder.frame;D<M.length;D++)for(d=0,p=(et=M[D]).zOrder.length;d<p;d+=2){var B=et.zOrder[d]+et.zOrder[d+1];B<0&&(et.zOrder[d+1]=i.slot.length+B)}c(I.zOrder.frame),0===I.zOrder.frame.length&&(I.zOrder=null)}for(d=0,p=I.bone.length;d<p;++d){var R,N=I.bone[d];if(R=i.getBone(N.name)){for(var L=0,z=N.frame;L<z.length;L++)(et=z[L]).transform.skX=a.normalizeDegree(et.transform.skX),et.transform.skY=a.normalizeDegree(et.transform.skY),et.transform.toFixed();for(var j=0,U=N.translateFrame;j<U.length;j++)(et=U[j]).x=Number(et.x.toFixed(2)),et.y=Number(et.y.toFixed(2));for(var Y=0,X=N.rotateFrame;Y<X.length;Y++)(et=X[Y]).rotate=Number(a.normalizeDegree(et.rotate).toFixed(2)),et.skew=Number(a.normalizeDegree(et.skew).toFixed(2));for(var V=0,H=N.scaleFrame;V<H.length;V++)(et=H[V]).x=Number(et.x.toFixed(4)),et.y=Number(et.y.toFixed(4));if(c(N.frame),c(N.translateFrame),c(N.rotateFrame),c(N.scaleFrame),1===N.frame.length&&0===(et=N.frame[0]).transform.x&&0===et.transform.y&&0===et.transform.skX&&0===et.transform.skY&&0===et.transform.scX&&0===et.transform.scY&&(N.frame.length=0),1===N.translateFrame.length&&0===(et=N.translateFrame[0]).x&&0===et.y&&(N.translateFrame.length=0),1===N.rotateFrame.length&&0===(et=N.rotateFrame[0]).rotate&&0===et.skew&&(N.rotateFrame.length=0),1===N.scaleFrame.length&&0===(et=N.scaleFrame[0]).x&&0===et.y&&(N.scaleFrame.length=0),N.frame.length>0||N.translateFrame.length>0||N.rotateFrame.length>0||N.scaleFrame.length>0)continue}I.bone.splice(d,1),d--,p--}for(d=0,p=I.slot.length;d<p;++d){if(N=I.slot[d],J=i.getSlot(N.name)){for(var G=0,W=N.frame;G<W.length;G++)(et=W[G]).color.toFixed();for(var Z=0,K=N.colorFrame;Z<K.length;Z++)(et=K[Z]).value.toFixed();if(c(N.frame),c(N.displayFrame),c(N.colorFrame),1===N.frame.length&&(et=N.frame[0]).displayIndex===J.displayIndex&&et.color.equal(J.color)&&(N.frame.length=0),1===N.displayFrame.length&&0===(et=N.displayFrame[0]).actions.length&&et.value===J.displayIndex&&(N.displayFrame.length=0),1===N.colorFrame.length&&(et=N.colorFrame[0]).value.equal(J.color)&&(N.colorFrame.length=0),N.frame.length>0||N.displayFrame.length>0||N.colorFrame.length>0)continue}I.slot.splice(d,1),d--,p--}for(d=0,p=I.ffd.length;d<p;++d){N=I.ffd[d];var J=i.getSlot(N.slot),q=i.getDisplay(N.skin,N.slot,N.name);if(J&&q){for(var Q=q.vertices,$=0,tt=N.frame;$<tt.length;$++){for(var et=tt[$],nt=0,rt=0,it=0,ot=0,at=Q.length;ot<at;ot+=2)nt=0,ot<et.offset||ot-et.offset>=et.vertices.length?rt=0:(nt=1,rt=et.vertices[ot-et.offset]),ot+1<et.offset||ot+1-et.offset>=et.vertices.length?it=0:(0===nt&&(nt=-1),it=et.vertices[ot+1-et.offset]),0!==nt&&(q._matrix.transformPoint(rt,it,a.helpPointA,!0),1===nt&&(et.vertices[ot-et.offset]=a.helpPointA.x),et.vertices[ot+1-et.offset]=a.helpPointA.y);et.offset+=u(et.vertices)}if(c(N.frame),1===N.frame.length&&0===(et=N.frame[0]).vertices.length&&(N.frame.length=0),N.frame.length>0)continue}I.ffd.splice(d,1),d--,p--}for(d=0,p=I.timeline.length;d<p;++d){switch((N=I.timeline[d]).type){case s.TimelineType.Action:case s.TimelineType.ZOrder:c(N.frame);break;case s.TimelineType.SlotDisplay:(J=i.getSlot(N.name))?(c(N.frame),1===N.frame.length&&(et=N.frame[0]).value===J.displayIndex&&(N.frame.length=0)):N.frame.length=0;break;case s.TimelineType.SlotZIndex:(J=i.getSlot(N.name))?c(N.frame):N.frame.length=0;break;case s.TimelineType.BoneAlpha:case s.TimelineType.SlotAlpha:for(var st=N.frame,ut=0,lt=st;ut<lt.length;ut++)(et=lt[ut]).value=Number(et.value.toFixed(2));c(st);break;case s.TimelineType.BoneTranslate:case s.TimelineType.BoneRotate:for(var ct=N.frame,ht=0,ft=ct;ht<ft.length;ht++)(et=ft[ht]).x=Number(et.x.toFixed(2)),et.y=Number(et.y.toFixed(2));c(ct),1===ct.length&&0===(et=ct[0]).x&&0===et.y&&(ct.length=0);break;case s.TimelineType.IKConstraint:case s.TimelineType.BoneScale:for(var dt=N.frame,pt=0,mt=dt;pt<mt.length;pt++)(et=mt[pt]).x=Number(et.x.toFixed(4)),et.y=Number(et.y.toFixed(4));c(dt),1===dt.length&&1===(et=dt[0]).x&&1===et.y&&(dt.length=0);break;case s.TimelineType.Surface:case s.TimelineType.SlotDeform:for(var _t=N.frame,gt=0,vt=_t;gt<vt.length;gt++)(et=vt[gt]).offset+=u(et.value);c(_t),1===_t.length&&0===(et=_t[0]).value.length&&(_t.length=0);break;case s.TimelineType.AnimationProgress:case s.TimelineType.AnimationWeight:case s.TimelineType.AnimationParameter:if(N instanceof s.AnimationTimeline&&(N.x=Number(N.x.toFixed(4)),N.y=Number(N.y.toFixed(4))),N.type===s.TimelineType.AnimationParameter){for(var yt=N.frame,bt=0,wt=yt;bt<wt.length;bt++)(et=wt[bt]).x=Number(et.x.toFixed(4)),et.y=Number(et.y.toFixed(4));c(yt)}else{for(var xt=N.frame,At=0,kt=xt;At<kt.length;At++)(et=kt[At]).value=Number(et.value.toFixed(4));c(xt),h(xt)}break;case s.TimelineType.SlotColor:J=i.getSlot(N.name);var Et=N.frame;if(J){for(var Tt=0,St=Et;Tt<St.length;Tt++)(et=St[Tt]).value.toFixed();c(Et),1===Et.length&&(et=Et[0]).value.equal(J.color)&&(Et.length=0)}else Et.length=0}N.frame.length>0||(I.timeline.splice(d,1),d--,p--)}}}}for(var Ot=0,Ct=t.textureAtlas;Ot<Ct.length;Ot++)l(Ct[Ot])}if(e)for(var Ft=0,Pt=e;Ft<Pt.length;Ft++)l(Pt[Ft])}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(0)),s=o(n(1));e.default=function(t,e){t.version=s.DATA_VERSION_5_5,t.compatibleVersion=s.DATA_VERSION_5_5;for(var n=0,r=t.armature;n<r.length;n++){var i=r[n];i.type.toString().toLowerCase()===s.ArmatureType[s.ArmatureType.Stage]&&(i.type=s.ArmatureType[s.ArmatureType.MovieClip],i.canvas=new s.Canvas,i.canvas.x=i.aabb.x,i.canvas.y=i.aabb.y,i.canvas.width=i.aabb.width,i.canvas.height=i.aabb.height);for(var o=0,u=i.skin;o<u.length;o++){var l=u[o];l.name=l.name||"default"}if(e&&i.defaultActions.length>0)for(var c=0,h=i.defaultActions.length;c<h;++c)(X=i.defaultActions[c])instanceof s.OldAction&&(i.defaultActions[c]=s.oldActionToNewAction(X));if(e)for(var f=0,d=i.slot;f<d.length;f++)if((P=d[f]).actions.length>0){var p=i.getSkin("default");if(p){var m=p.getSlot(P.name);if(null!==m&&m instanceof s.SkinSlot)for(var _=0,g=P.actions;_<g.length;_++)if((X=g[_])instanceof s.OldAction){var v=m.display[P.displayIndex];v instanceof s.ArmatureDisplay&&v.actions.push(s.oldActionToNewAction(X))}}P.actions.length=0}for(var y=0,b=i.animation;y<b.length;y++){var w=b[y];if(e)for(var x=0,A=w.frame;x<A.length;x++){(I=A[x]).event&&((X=new s.Action).type=s.ActionType.Frame,X.name=I.event,I.actions.push(X),I.event=""),I.sound&&((X=new s.Action).type=s.ActionType.Sound,X.name=I.sound,I.actions.push(X),I.sound=""),I.action&&((X=new s.Action).type=s.ActionType.Play,X.name=I.action,I.actions.push(X),I.action="");for(var k=0,E=I.events;k<E.length;k++){var T=E[k];T.type=s.ActionType.Frame,I.actions.push(T)}I.events.length=0}for(var S=0,O=w.bone;S<O.length;S++)if(!((L=O[S])instanceof s.TypeTimeline)){var C=i.getBone(L.name);if(C){var F=0,P=i.getSlot(L.name);for(c=0,h=L.frame.length;c<h;++c){var I=L.frame[c],D=new s.DoubleValueFrame0,M=new s.BoneRotateFrame,B=new s.DoubleValueFrame1;L.translateFrame.push(D),L.rotateFrame.push(M),L.scaleFrame.push(B),D.duration=I.duration,M.duration=I.duration,B.duration=I.duration,D.tweenEasing=I.tweenEasing,D.curve=I.curve.concat(),M.tweenEasing=I.tweenEasing,M.curve=I.curve.concat(),B.tweenEasing=I.tweenEasing,B.curve=I.curve.concat(),D.x=I.transform.x,D.y=I.transform.y,M.clockwise=I.tweenRotate,M.rotate=a.normalizeDegree(I.transform.skY),M.skew=a.normalizeDegree(I.transform.skX-I.transform.skY),B.x=I.transform.scX,B.y=I.transform.scY,I.action&&!P&&(I.action=""),(I.event||I.sound||I.action)&&(s.mergeActionToAnimation(w,I,F,C,P,e),I.event="",I.sound="",I.action=""),F+=I.duration}L.frame.length=0}}for(var R=0,N=w.slot;R<N.length;R++){var L=N[R];if(P=i.getSlot(L.name)){for(F=0,c=0,h=L.frame.length;c<h;++c){I=L.frame[c];var z=new s.SlotDisplayFrame,j=new s.SlotColorFrame;if(L.displayFrame.push(z),L.colorFrame.push(j),z.duration=I.duration,j.duration=I.duration,j.tweenEasing=I.tweenEasing,j.curve=I.curve.concat(),z.value=I.displayIndex,j.value.copyFrom(I.color),I.actions.length>0)if(e)s.mergeActionToAnimation(w,I,F,null,P,!0);else for(var U=0,Y=I.actions;U<Y.length;U++){var X=Y[U];z.actions.push(X)}F+=I.duration}if(L.frame.length=0,e)for(F=0,c=0,h=L.displayFrame.length;c<h;++c)(I=L.displayFrame[c]).actions.length>0&&(s.mergeActionToAnimation(w,I,F,null,P,!0),I.actions.length=0,F+=I.duration)}}}}return t}}])},iDVe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEXTURE_ATLAS_NAMES=e.TEXTURE_NAMES=e.SKELETON_NAMES=void 0,e.SKELETON_NAMES=["skeleton.json","skeleton.dbbin","skeleton.xml","*_ske.json","*_ske.dbbin"],e.TEXTURE_NAMES=["texture.png","*_tex.png"],e.TEXTURE_ATLAS_NAMES=["texture.json","texture.xml","*_tex.json"]},iZKT:function(t,e,n){"use strict";function r(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+i+","+o+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+o+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+o+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+o+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+l+",a:"+a+"}":"unknown format"}n.r(e),n.d(e,"color",(function(){return lt})),n.d(e,"controllers",(function(){return ct})),n.d(e,"dom",(function(){return ht})),n.d(e,"gui",(function(){return ft})),n.d(e,"GUI",(function(){return dt}));var i=Array.prototype.forEach,o=Array.prototype.slice,a={BREAK:{},extend:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(i&&t.forEach&&t.forEach===i)t.forEach(e,n);else if(t.length===t.length+0){var r,o=void 0;for(o=0,r=t.length;o<r;o++)if(o in t&&e.call(n,t[o],o)===this.BREAK)return}else for(var a in t)if(e.call(n,t[a],a)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,o=arguments;function a(){r=null,n||t.apply(i,o)}var s=n||!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},s=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:r},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:r},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:r},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:r}}},{litmus:a.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b)&&a.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(a.isNumber(t.r)&&a.isNumber(t.g)&&a.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v)&&a.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(a.isNumber(t.h)&&a.isNumber(t.s)&&a.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],u=void 0,l=void 0,c=function(){l=!1;var t=arguments.length>1?a.toArray(arguments):arguments[0];return a.each(s,(function(e){if(e.litmus(t))return a.each(e.conversions,(function(e,n){if(u=e.read(t),!1===l&&!1!==u)return l=u,u.conversionName=n,u.conversion=e,a.BREAK})),a.BREAK})),l},h=void 0,f={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/o:e===i?2+(n-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(h=8*e)|t&~(255<<h)}},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},g=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},v=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},y=function(){function t(){if(p(this,t),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return m(t,[{key:"toString",value:function(){return r(this)}},{key:"toHexString",value:function(){return r(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function b(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||y.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(y.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function w(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||y.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(y.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}y.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=f.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");a.extend(t.__state,f.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},y.recalculateHSV=function(t){var e=f.rgb_to_hsv(t.r,t.g,t.b);a.extend(t.__state,{s:e.s,v:e.v}),a.isNaN(e.h)?a.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},y.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(y.prototype,"r",2),b(y.prototype,"g",1),b(y.prototype,"b",0),w(y.prototype,"h"),w(y.prototype,"s"),w(y.prototype,"v"),Object.defineProperty(y.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(y.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=f.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var x=function(){function t(e,n){p(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return m(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),A={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){a.each(t,(function(t){A[t]=e}))}));var k=/(\d+(\.\d+)?)px/;function E(t){if("0"===t||a.isUndefined(t))return 0;var e=t.match(k);return a.isNull(e)?0:parseFloat(e[1])}var T={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;a.isUndefined(i)&&(i=!0),a.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},o=A[e];if(!o)throw new Error("Event type "+e+" not supported.");var s=document.createEvent(o);switch(o){case"MouseEvents":var u=i.x||i.clientX||0,l=i.y||i.clientY||0;s.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=s.initKeyboardEvent||s.initKeyEvent;a.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(e,i.bubbles||!1,i.cancelable||!0)}a.defaults(s,r),t.dispatchEvent(s)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),T},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),T},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return T},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return T},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return E(e["border-left-width"])+E(e["border-right-width"])+E(e["padding-left"])+E(e["padding-right"])+E(e.width)},getHeight:function(t){var e=getComputedStyle(t);return E(e["border-top-width"])+E(e["border-bottom-width"])+E(e["padding-top"])+E(e["padding-bottom"])+E(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},S=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),T.bind(r.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x),O=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r,s=i;if(i.__select=document.createElement("select"),a.isArray(o)){var u={};a.each(o,(function(t){u[t]=t})),o=u}return a.each(o,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),s.__select.appendChild(n)})),i.updateDisplay(),T.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;s.setValue(t)})),i.domElement.appendChild(i.__select),i}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return T.isActive(this.__select)?this:(this.__select.value=this.getValue(),_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(x),C=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function o(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),T.bind(r.__input,"keyup",o),T.bind(r.__input,"change",o),T.bind(r.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),T.bind(r.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return g(e,t),m(e,[{key:"updateDisplay",value:function(){return T.isActive(this.__input)||(this.__input.value=this.getValue()),_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(x);function F(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var P=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=r||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,a.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=F(i.__impliedStep),i}return g(e,t),m(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=F(t),this}}]),e}(x);var I=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var o=i,s=void 0;function u(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function l(t){var e=s-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),s=t.clientY}function c(){T.unbind(window,"mousemove",l),T.unbind(window,"mouseup",c),u()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),T.bind(i.__input,"change",(function(){var t=parseFloat(o.__input.value);a.isNaN(t)||o.setValue(t)})),T.bind(i.__input,"blur",(function(){u()})),T.bind(i.__input,"mousedown",(function(t){T.bind(window,"mousemove",l),T.bind(window,"mouseup",c),s=t.clientY})),T.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,u())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(P);function D(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var M=function(t){function e(t,n,r,i,o){p(this,e);var a=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(D(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){T.unbind(window,"mousemove",u),T.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(D(e,n.left,n.right,s.__min,s.__max))}function h(){T.unbind(window,"touchmove",c),T.unbind(window,"touchend",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),T.bind(a.__background,"mousedown",(function(t){document.activeElement.blur(),T.bind(window,"mousemove",u),T.bind(window,"mouseup",l),u(t)})),T.bind(a.__background,"touchstart",(function(t){if(1!==t.touches.length)return;T.bind(window,"touchmove",c),T.bind(window,"touchend",h),c(t)})),T.addClass(a.__background,"slider"),T.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",_(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(P),B=function(t){function e(t,n,r){p(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,T.bind(i.__button,"click",(function(t){return t.preventDefault(),o.fire(),!1})),T.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return g(e,t),m(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(x),R=function(t){function e(t,n){p(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new y(r.getValue()),r.__temp=new y(0);var i=r;r.domElement=document.createElement("div"),T.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",T.bind(r.__input,"keydown",(function(t){13===t.keyCode&&d.call(this)})),T.bind(r.__input,"blur",d),T.bind(r.__selector,"mousedown",(function(){T.addClass(this,"drag").bind(window,"mouseup",(function(){T.removeClass(i.__selector,"drag")}))})),T.bind(r.__selector,"touchstart",(function(){T.addClass(this,"drag").bind(window,"touchend",(function(){T.removeClass(i.__selector,"drag")}))}));var o,s=document.createElement("div");function u(t){_(t),T.bind(window,"mousemove",_),T.bind(window,"touchmove",_),T.bind(window,"mouseup",h),T.bind(window,"touchend",h)}function l(t){g(t),T.bind(window,"mousemove",g),T.bind(window,"touchmove",g),T.bind(window,"mouseup",f),T.bind(window,"touchend",f)}function h(){T.unbind(window,"mousemove",_),T.unbind(window,"touchmove",_),T.unbind(window,"mouseup",h),T.unbind(window,"touchend",h),m()}function f(){T.unbind(window,"mousemove",g),T.unbind(window,"touchmove",g),T.unbind(window,"mouseup",f),T.unbind(window,"touchend",f),m()}function d(){var t=c(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function m(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function _(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,o=n.clientY,a=(r-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function g(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return a.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(s.style,{width:"100%",height:"100%",background:"none"}),L(s,"top","rgba(0,0,0,0)","#000"),a.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=r.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),T.bind(r.__saturation_field,"mousedown",u),T.bind(r.__saturation_field,"touchstart",u),T.bind(r.__field_knob,"mousedown",u),T.bind(r.__field_knob,"touchstart",u),T.bind(r.__hue_field,"mousedown",l),T.bind(r.__hue_field,"touchstart",l),r.__saturation_field.appendChild(s),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return g(e,t),m(e,[{key:"updateDisplay",value:function(){var t=c(this.getValue());if(!1!==t){var e=!1;a.each(y.COMPONENTS,(function(n){if(!a.isUndefined(t[n])&&!a.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&a.extend(this.__color.__state,t)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,L(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),a.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),e}(x),N=["-moz-","-o-","-webkit-","-ms-",""];function L(t,e,n,r){t.style.background="",a.each(N,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "}))}var z=function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}},j='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',U=function(t,e){var n=t[e];return a.isArray(arguments[2])||a.isObject(arguments[2])?new O(t,e,arguments[2]):a.isNumber(n)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?a.isNumber(arguments[4])?new M(t,e,arguments[2],arguments[3],arguments[4]):new M(t,e,arguments[2],arguments[3]):a.isNumber(arguments[4])?new I(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new I(t,e,{min:arguments[2],max:arguments[3]}):a.isString(n)?new C(t,e):a.isFunction(n)?new B(t,e,""):a.isBoolean(n)?new S(t,e):null};var Y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},X=function(){function t(){p(this,t),this.backgroundElement=document.createElement("div"),a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),T.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;T.bind(this.backgroundElement,"click",(function(){e.hide()}))}return m(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),a.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",T.unbind(t.domElement,"webkitTransitionEnd",e),T.unbind(t.domElement,"transitionend",e),T.unbind(t.domElement,"oTransitionEnd",e)};T.bind(this.domElement,"webkitTransitionEnd",e),T.bind(this.domElement,"transitionend",e),T.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-T.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-T.getHeight(this.domElement)/2+"px"}}]),t}();z(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var V=function(){try{return!!window.localStorage}catch(t){return!1}}(),H=void 0,G=!0,W=void 0,Z=!1,K=[],J=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),T.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=a.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=a.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),a.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),a.isUndefined(r.parent)&&r.hideable&&K.push(this),r.resizable=a.isUndefined(r.parent)&&r.resizable,r.autoPlace&&a.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,o=V&&"true"===localStorage.getItem(nt(this,"isLocal")),s=void 0,u=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,st(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,u&&(u.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?T.addClass(n.__ul,t.CLASS_CLOSED):T.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){V&&(o=t,t?T.bind(window,"unload",s):T.unbind(window,"unload",s),localStorage.setItem(nt(n,"isLocal"),t))}}}),a.isUndefined(r.parent)){if(this.closed=r.closed||!1,T.addClass(this.domElement,t.CLASS_MAIN),T.makeSelectable(this.domElement,!1),V&&o){n.useLocalStorage=!0;var l=localStorage.getItem(nt(this,"gui"));l&&(r.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,T.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(T.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(T.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),T.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var c=document.createTextNode(r.name);T.addClass(c,"controller-name"),u=q(n,c);T.addClass(this.__ul,t.CLASS_CLOSED),T.addClass(u,"title"),T.bind(u,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(a.isUndefined(r.parent)&&(G&&(W=document.createElement("div"),T.addClass(W,"dg"),T.addClass(W,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(W),G=!1),W.appendChild(this.domElement),T.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||st(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},T.bind(window,"resize",this.__resizeHandler),T.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),T.bind(this.__ul,"transitionend",this.__resizeHandler),T.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&at(this),s=function(){V&&"true"===localStorage.getItem(nt(n,"isLocal"))&&localStorage.setItem(nt(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=s,r.parent||((i=n.getRoot()).width+=1,a.defer((function(){i.width-=1})))};function q(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function Q(t){T.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&T.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function $(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function tt(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o.Default)return;a=o.Default}if(a[r]&&void 0!==a[r][e.property]){var s=a[r][e.property];e.initialValue=s,e.setValue(s)}}}}function et(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new R(e,n);else{var o=[e,n].concat(r.factoryArgs);i=U.apply(t,o)}r.before instanceof x&&(r.before=r.before.__li),tt(t,i),T.addClass(i.domElement,"c");var s=document.createElement("span");T.addClass(s,"property-name"),s.innerHTML=i.property;var u=document.createElement("div");u.appendChild(s),u.appendChild(i.domElement);var l=q(t,u,r.before);return T.addClass(l,J.CLASS_CONTROLLER_ROW),i instanceof R?T.addClass(l,"color"):T.addClass(l,d(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,a.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:r,factoryArgs:[a.toArray(arguments)]})}if(a.isArray(e)||a.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),et(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof M){var r=new I(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});a.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}})),T.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof I){var i=function(e){if(a.isNumber(n.__min)&&a.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var o=et(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return o.name(r),i&&o.listen(),o}return e};n.min=a.compose(i,n.min),n.max=a.compose(i,n.max)}else n instanceof S?(T.bind(e,"click",(function(){T.fakeEvent(n.__checkbox,"click")})),T.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof B?(T.bind(e,"click",(function(){T.fakeEvent(n.__button,"click")})),T.bind(e,"mouseover",(function(){T.addClass(n.__button,"hover")})),T.bind(e,"mouseout",(function(){T.removeClass(n.__button,"hover")}))):n instanceof R&&(T.addClass(e,"color"),n.updateDisplay=a.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=a.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&$(t.getRoot(),!0),e}),n.setValue)}(t,l,i),t.__controllers.push(i),i}function nt(t,e){return document.location.href+"."+e}function rt(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function it(t,e){e.style.display=t.useLocalStorage?"block":"none"}function ot(t){var e=t.__save_row=document.createElement("li");T.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),T.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",T.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",T.addClass(r,"button"),T.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",T.addClass(i,"button"),T.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",T.addClass(o,"button"),T.addClass(o,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?a.each(t.load.remembered,(function(e,n){rt(t,n,n===t.preset)})):rt(t,"Default",!1),T.bind(s,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(s),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),V){var u=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(nt(0,"isLocal"))&&l.setAttribute("checked","checked"),it(t,u),T.bind(l,"change",(function(){t.useLocalStorage=!t.useLocalStorage,it(t,u)}))}var c=document.getElementById("dg-new-constructor");T.bind(c,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||H.hide()})),T.bind(n,"click",(function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),H.show(),c.focus(),c.select()})),T.bind(r,"click",(function(){t.save()})),T.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),T.bind(o,"click",(function(){t.revert()}))}function at(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){T.removeClass(t.__closeButton,J.CLASS_DRAG),T.unbind(window,"mousemove",n),T.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),e=i.clientX,T.addClass(t.__closeButton,J.CLASS_DRAG),T.bind(window,"mousemove",n),T.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),a.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),T.bind(t.__resize_handle,"mousedown",i),T.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function st(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ut(t,e){var n={};return a.each(t.__rememberedObjects,(function(r,i){var o={},s=t.__rememberedObjectIndecesToControllers[i];a.each(s,(function(t,n){o[n]=e?t.initialValue:t.getValue()})),n[i]=o})),n}J.toggleHide=function(){Z=!Z,a.each(K,(function(t){t.domElement.style.display=Z?"none":""}))},J.CLASS_AUTO_PLACE="a",J.CLASS_AUTO_PLACE_CONTAINER="ac",J.CLASS_MAIN="main",J.CLASS_CONTROLLER_ROW="cr",J.CLASS_TOO_TALL="taller-than-window",J.CLASS_CLOSED="closed",J.CLASS_CLOSE_BUTTON="close-button",J.CLASS_CLOSE_TOP="close-top",J.CLASS_CLOSE_BOTTOM="close-bottom",J.CLASS_DRAG="drag",J.DEFAULT_WIDTH=245,J.TEXT_CLOSED="Close Controls",J.TEXT_OPEN="Open Controls",J._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||J.toggleHide()},T.bind(window,"keydown",J._keydownHandler,!1),a.extend(J.prototype,{add:function(t,e){return et(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return et(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;a.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&W.removeChild(this.domElement);var t=this;a.each(this.__folders,(function(e){t.removeFolder(e)})),T.unbind(window,"keydown",J._keydownHandler,!1),Q(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new J(e);this.__folders[t]=n;var r=q(this,n.domElement);return T.addClass(r,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],Q(t);var e=this;a.each(t.__folders,(function(e){t.removeFolder(e)})),a.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=T.getOffset(t.__ul).top,n=0;a.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=T.getHeight(e))})),window.innerHeight-e-20<n?(T.addClass(t.domElement,J.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(T.removeClass(t.domElement,J.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&a.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:a.debounce((function(){this.onResize()}),50),remember:function(){if(a.isUndefined(H)&&((H=new X).domElement.innerHTML=j),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;a.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&ot(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&st(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ut(this)),t.folders={},a.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ut(this),$(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ut(this,!0)),this.load.remembered[t]=ut(this),this.preset=t,rt(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){a.each(this.__controllers,(function(e){this.getRoot().load.remembered?tt(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),a.each(this.__folders,(function(t){t.revert(t)})),t||$(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&Y.call(window,(function(){t(e)}));a.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){a.each(this.__controllers,(function(t){t.updateDisplay()})),a.each(this.__folders,(function(t){t.updateDisplay()}))}});var lt={Color:y,math:f,interpret:c},ct={Controller:x,BooleanController:S,OptionController:O,StringController:C,NumberController:P,NumberControllerBox:I,NumberControllerSlider:M,FunctionController:B,ColorController:R},ht={dom:T},ft={GUI:J},dt=J,pt={color:lt,controllers:ct,dom:ht,gui:ft,GUI:dt};e.default=pt},icBU:function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},"kVK+":function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*m}},kbA8:function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,a,s,u=n.indexOf(t),l=n.indexOf(e,u+1),c=u;if(u>=0&&l>0){if(t===e)return[u,l];for(r=[],o=n.length;c>=0&&!s;)c==u?(r.push(c),u=n.indexOf(t,c+1)):1==r.length?s=[r.pop(),l]:((i=r.pop())<o&&(o=i,a=l),l=n.indexOf(e,c+1)),c=u<l&&u>=0?u:l;r.length&&(s=[o,a])}return s}t.exports=r,r.range=o},rR20:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DragonBonesItem=void 0;var o=n("PhtX"),a=n("VdlF"),s=n("fFgC"),u=n("xOOu"),l=n("2LKJ"),c=n("iDVe"),h=function(){function t(){}return t.prototype.init=function(t,e,n,o,l,h){return void 0===n&&(n=!1),r(this,void 0,void 0,(function(){var r,f,d,p,m,_,g,v,y,b;return i(this,(function(i){switch(i.label){case 0:return this.dispose(),this._key=e,[4,u.loadAsync(t)];case 1:return r=i.sent(),o=o||c.SKELETON_NAMES,l=l||c.TEXTURE_NAMES,h=h||c.TEXTURE_ATLAS_NAMES,f=this.findMatchFiles(r,o,l,h),(d=f.texa)?".json"!==d.ext?[3,3]:[4,d.zip.async("text")]:[3,5];case 2:return p=i.sent(),this._textureJson=JSON.parse(p),[3,5];case 3:return".xml"!==d.ext?[3,5]:[4,d.zip.async("text")];case 4:m=i.sent(),this._textureJson=s.DragonBonesXmlUtil.parseXmlStrToJson(m),i.label=5;case 5:return(d=f.sk)?".json"!==d.ext?[3,7]:[4,d.zip.async("text")]:[3,11];case 6:return _=i.sent(),this._skeletonJson=JSON.parse(_),this._version=this._skeletonJson.version,"3.3"!==this._version&&"2.3"!==this._version||a.SkeletonUtil.setAutoTween(this._skeletonJson,!1),"5.5"!==this._version&&(this._skeletonJson=s.dbToNew(this._skeletonJson,this._textureJson)),this._version+="json",[3,11];case 7:return".dbbin"!==d.ext?[3,9]:(g=this,[4,d.zip.async("arraybuffer")]);case 8:return g._skeletonJson=i.sent(),this._version="5.5 binary",this._isBinData=!0,[3,11];case 9:return".xml"!==d.ext?[3,11]:[4,d.zip.async("text")];case 10:v=i.sent(),this._skeletonJson=s.DragonBonesXmlUtil.parseXmlStrToJson(v,n),this._version="2.3 xml",a.SkeletonUtil.setAutoTween(this._skeletonJson,!1),this._skeletonJson=s.dbToNew(this._skeletonJson,this._textureJson),i.label=11;case 11:return(d=f.tex)?[4,d.zip.async("arraybuffer")]:[3,14];case 12:return y=i.sent(),b=this,[4,this.createTexture(y)];case 13:b._textureBmd=i.sent(),i.label=14;case 14:if(!this._skeletonJson||!this._textureJson||!this._textureBmd)throw"["+this.name+"] parse faild, check this file is dragonboens zip";return[2]}}))}))},t.prototype.findMatchFiles=function(t,e,n,r){var i,o,a;for(var s in t.files){if(!i)for(var u=0,c=e;u<c.length;u++){var h=c[u];if(l(s,h)){i={ext:s.substr(s.lastIndexOf(".")).toLocaleLowerCase(),zip:t.file(s)};break}}if(!o)for(var f=0,d=n;f<d.length;f++){h=d[f];if(l(s,h)){o={ext:s.substr(s.lastIndexOf(".")).toLocaleLowerCase(),zip:t.file(s)};break}}if(!a)for(var p=0,m=r;p<m.length;p++){h=m[p];if(l(s,h)){a={ext:s.substr(s.lastIndexOf(".")).toLocaleLowerCase(),zip:t.file(s)};break}}}return{sk:i,tex:o,texa:a}},t.prototype.createTexture=function(t){return new Promise((function(e){egret.BitmapData.create("arraybuffer",t,(function(t){e(t)}))}))},t.prototype.getFactory=function(){if(!this._factory){if(this._skeletonJson&&this._textureJson&&this._textureBmd){var t=new egret.Texture;return t.bitmapData=this._textureBmd,this._factory=new dragonBones.EgretFactory,this._data=this._factory.parseDragonBonesData(this._skeletonJson),this._factory.parseTextureAtlasData(this._textureJson,t),this._factory}throw"create EgretFactory fail!"}return this._factory},t.prototype.dispose=function(){this._factory&&(this._factory.clear(!0),this._factory=null),this._version=null,this._textureBmd=null,this._skeletonJson=null,this._textureJson=null,this._data=null,this._key=null,this._isBinData=!1},Object.defineProperty(t.prototype,"name",{get:function(){return this._key},enumerable:!1,configurable:!0}),t.prototype.createMovie=function(t){return t&&this.getFactory()?new o.SkeletonMovie(this._factory.buildArmature(t)):null},t.prototype.getArmatureNames=function(){if(this.getFactory()&&this._data)return this._data.armatureNames.concat()},Object.defineProperty(t.prototype,"rawVersion",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBinData",{get:function(){return this._isBinData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skeletonData",{get:function(){return this._skeletonJson},enumerable:!1,configurable:!0}),t}();e.DragonBonesItem=h},xOOu:function(t,e,n){(function(e,n,r){t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){return i(e[a][1][t]||t)}),l,l.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,i,o){(function(e){!function(t){"object"==typeof o&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,(function(t){return o(n[s][1][t]||t)}),h,h.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,i,o){(function(e){!function(t){"object"==typeof o&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,(function(t){return o(n[s][1][t]||t)}),h,h.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,i,o){(function(e){!function(t){"object"==typeof o&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,(function(t){return o(n[s][1][t]||t)}),h,h.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,i,o){(function(e){!function(t){"object"==typeof o&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,(function(t){return o(n[s][1][t]||t)}),h,h.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,i,o){(function(e){!function(t){"object"==typeof o&&void 0!==i?i.exports=t():("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[s]={exports:{}};n[s][0].call(h.exports,(function(t){return o(n[s][1][t]||t)}),h,h.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,a,s,u,l,c=[],h=0,f=t.length,d=f,p="string"!==r.getTypeOf(t);h<t.length;)d=f-h,i=p?(e=t[h++],n=h<f?t[h++]:0,h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,h<f?t.charCodeAt(h++):0),a=e>>2,s=(3&e)<<4|n>>4,u=1<d?(15&n)<<2|i>>6:64,l=2<d?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(l));return c.join("")},n.decode=function(t){var e,n,r,a,s,u,l=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=o.indexOf(t.charAt(l++))<<2|(a=o.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(l++)))>>2,r=(3&s)<<6|(u=o.indexOf(t.charAt(l++))),h[c++]=e,64!==s&&(h[c++]=n),64!==u&&(h[c++]=r);return h}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function s(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n){var r=i,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}(0|e,t,t.length):function(t,e,n){var r=i,o=0+n;t^=-1;for(var a=0;a<o;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:37}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),s=r?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new u("Deflate",t)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function r(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r}function i(t,e,n,i,a,c){var h,f,d=t.file,p=t.compression,m=c!==s.utf8encode,_=o.transformTo("string",c(d.name)),g=o.transformTo("string",s.utf8encode(d.name)),v=d.comment,y=o.transformTo("string",c(v)),b=o.transformTo("string",s.utf8encode(v)),w=g.length!==d.name.length,x=b.length!==v.length,A="",k="",E="",T=d.dir,S=d.date,O={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var C=0;e&&(C|=8),m||!w&&!x||(C|=2048);var F,P=0,I=0;T&&(P|=16),"UNIX"===a?(I=798,P|=((F=d.unixPermissions)||(F=T?16893:33204),(65535&F)<<16)):(I=20,P|=63&(d.dosPermissions||0)),h=S.getUTCHours(),h<<=6,h|=S.getUTCMinutes(),h<<=5,h|=S.getUTCSeconds()/2,f=S.getUTCFullYear()-1980,f<<=4,f|=S.getUTCMonth()+1,f<<=5,f|=S.getUTCDate(),w&&(A+="up"+r((k=r(1,1)+r(u(_),4)+g).length,2)+k),x&&(A+="uc"+r((E=r(1,1)+r(u(y),4)+b).length,2)+E);var D="";return D+="\n\0",D+=r(C,2),D+=p.magic,D+=r(h,2),D+=r(f,2),D+=r(O.crc32,4),D+=r(O.compressedSize,4),D+=r(O.uncompressedSize,4),D+=r(_.length,2),D+=r(A.length,2),{fileRecord:l.LOCAL_FILE_HEADER+D+_+A,dirRecord:l.CENTRAL_FILE_HEADER+r(I,2)+D+r(y.length,2)+"\0\0\0\0"+r(P,4)+r(i,4)+_+A+y}}var o=t("../utils"),a=t("../stream/GenericWorker"),s=t("../utf8"),u=t("../crc32"),l=t("../signature");function c(t,e,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,a),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,a.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e,n=this.streamFiles&&!t.file.dir,o=i(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),n)this.push({data:(e=t,l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n,i,a,s,u,c,h=this.bytesWritten-t,f=(n=this.dirRecords.length,i=h,a=t,s=this.zipComment,u=this.encodeFileName,c=o.transformTo("string",u(s)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(n,2)+r(n,2)+r(i,4)+r(a,4)+r(c.length,2)+c);this.push({data:f,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!a.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var r=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(t){o.error(t)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.5.0",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),o=t("./utf8"),a=t("./zipEntries"),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(t){return new i.Promise((function(e,n){var r=t.decompressed.getContentWorker().pipe(new s);r.on("error",(function(t){n(t)})).on("end",(function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new a(e);return n.load(t),n})).then((function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)})).then((function(t){for(var r=t.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(o,i),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var r=t("readable-stream").Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,r){"use strict";e.exports={isNode:void 0!==n,newBufferFrom:function(t,e){if(n.from&&n.from!==Uint8Array.from)return n.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new n(t,e)},allocBuffer:function(t){if(n.alloc)return n.alloc(t);var e=new n(t);return e.fill(0),e},isBuffer:function(t){return n.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function r(t,e,n){var r,o=a.getTypeOf(e),u=a.extend(n||{},l);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(t=i(t)),u.createFolders&&(r=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&m.call(this,r,!0);var f,_="string"===o&&!1===u.binary&&!1===u.base64;n&&void 0!==n.binary||(u.binary=!_),(e instanceof c&&0===e.uncompressedSize||u.dir||!e||0===e.length)&&(u.base64=!1,u.binary=!0,e="",u.compression="STORE",o="string"),f=e instanceof c||e instanceof s?e:d.isNode&&d.isStream(e)?new p(t,e):a.prepareContent(t,e,u.binary,u.optimizedBinaryString,u.base64);var g=new h(t,f,u);this.files[t]=g}function i(t){return"/"!==t.slice(-1)&&(t+="/"),t}var o=t("./utf8"),a=t("./utils"),s=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),l=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),m=function(t,e){return e=void 0!==e?e:l.createFolders,t=i(t),this.files[t]||r.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function _(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(t){var e=[];return this.forEach((function(n,r){t(n,r)&&e.push(r)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,r.call(this,t,e,n),this;if(_(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var o=this.files[this.root+t];return o&&!o.dir?o:null},folder:function(t){if(!t)return this;if(_(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=m.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=a.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=f.generateWorker(this,n,r)}catch(t){(e=new s("error")).error(t)}return new u(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function o(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,r),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,r),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,r){"use strict";var i=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),s=t("../base64"),u=t("../support"),l=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function h(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,i.checkSupport(r),this._worker=t.pipe(new o(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return e=this,r=t,new l.Promise((function(t,o){var a=[],u=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(t,e){a.push(t),r&&r(e)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var e=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(l,function(t,e){var r,i=0,o=null,a=0;for(r=0;r<e.length;r++)a+=e[r].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(o=new Uint8Array(a),r=0;r<e.length;r++)o.set(e[r],i),i+=e[r].length;return o;case"nodebuffer":return n.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,a),c);t(e)}catch(e){o(e)}a=[]})).resume()}));var e,r},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer=void 0!==n,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),r.blob=0===o.getBlob("application/zip").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch(t){r.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var r=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return i.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},n.utf8decode=function(t){return i.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,o,a=t.length,u=new Array(2*a);for(e=n=0;e<a;)if((i=t[e++])<128)u[n++]=i;else if(4<(o=s[i]))u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&e<a;)i=i<<6|63&t[e++],o--;1<o?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(t=r.transformTo(i.uint8array?"uint8array":"array",t))},r.inherits(l,a),l.prototype.processChunk=function(t){var e=r.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=e;(e=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),u=e;a!==e.length&&(i.uint8array?(u=e.subarray(0,a),this.leftOver=e.subarray(a,e.length)):(u=e.slice(0,a),this.leftOver=e.slice(a,e.length))),this.push({data:n.utf8decode(u),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(c,a),c.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var r=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),a=t("set-immediate-shim"),s=t("./external");function u(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,r=n.getTypeOf(t),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return c.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return c.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=h;var d={};d.string={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},d.array={string:h,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},d.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return o.newBufferFrom(t)}},d.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:u},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var r=n.getTypeOf(e);return d[r][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&o.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},n.delay=function(t,e,n){a((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,a,u){return s.Promise.resolve(e).then((function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)})):t})).then((function(e){var c,h=n.getTypeOf(e);return h?("arraybuffer"===h?e=n.transformTo("uint8array",e):"string"===h&&(u?e=i.decode(e):o&&!0!==a&&(e=l(c=e,r.uint8array?new Uint8Array(c.length):new Array(c.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),a=t("./zipEntry"),s=(t("./utf8"),t("./support"));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),s=t("./utf8"),u=t("./compressions"),l=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r};t.setIndex(i)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)||a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function r(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),u=t("./stream/GenericWorker");r.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(e=e.pipe(new a.Utf8EncodeWorker)),!o&&r&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)r.prototype[l[h]]=c;e.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(t){"use strict";var e,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),e=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,e=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}n.exports=function(t){1!==l.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var r=t("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r((function(){var r;try{r=e(n)}catch(r){return o.reject(t,r)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=p((function(){e(i,r)}));"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===s?t:e,this.outcome):this.queue.push(new c(n,t,e)),n},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(t[u],u);return l;function c(t,i){e.resolve(t).then((function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(l,a))}),(function(t){r||(r=!0,o.reject(l,t))}))}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<e;)r=t[a],this.resolve(r).then((function(t){n||(n=!0,o.resolve(s,t))}),(function(t){n||(n=!0,o.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}l.prototype.push=function(t,e){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=l,n.deflate=c,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),l=t("./zlib/gzheader"),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,u,l,h,f,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,_=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===_&&(n=a.Z_OK,_=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),l=d.next_out-u,h=o.buf2string(d.output,u),d.next_out=l,d.avail_out=p-l,l&&i.arraySet(d.output,d.output,u,l,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(_=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=h,n.inflate=f,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(t,e,n){"use strict";var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,n.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=a=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,s=e||t.length,l=new Array(2*s);for(n=r=0;n<s;)if((i=t[n++])<128)l[r++]=i;else if(4<(o=a[i]))l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&t[n++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var r,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),s=t("./crc32"),u=t("./messages"),l=-2,c=258,h=262,f=113;function d(t,e){return t.msg=u[e],e}function p(t){return(t<<1)-(4<t?9:0)}function m(t){for(var e=t.length;0<=--e;)t[e]=0}function _(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function g(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,_(t.strm)}function v(t,e){t.pending_buf[t.pending++]=e}function y(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-h?t.strstart-(t.w_size-h):0,l=t.window,f=t.w_mask,d=t.prev,p=t.strstart+c,m=l[o+a-1],_=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===_&&l[n+a-1]===m&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(r=c-(p-o),o=p-c,a<r){if(t.match_start=e,s<=(a=r))break;m=l[o+a-1],_=l[o+a]}}}while((e=d[e&f])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function w(t){var e,n,r,o,u,l,c,f,d,p,m=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-h)){for(i.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=n=t.hash_size;r=t.head[--e],t.head[e]=m<=r?r-m:0,--n;);for(e=n=m;r=t.prev[--e],t.prev[e]=m<=r?r-m:0,--n;);o+=m}if(0===t.strm.avail_in)break;if(l=t.strm,c=t.window,f=t.strstart+t.lookahead,p=void 0,(d=o)<(p=l.avail_in)&&(p=d),n=0===p?0:(l.avail_in-=p,i.arraySet(c,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=a(l.adler,c,p,f):2===l.state.wrap&&(l.adler=s(l.adler,c,p,f)),l.next_in+=p,l.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<h&&0!==t.strm.avail_in)}function x(t,e){for(var n,r;;){if(t.lookahead<h){if(w(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-h&&(t.match_length=b(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function A(t,e){for(var n,r,i;;){if(t.lookahead<h){if(w(t),t.lookahead<h&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-h&&(t.match_length=b(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(g(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&g(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function k(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:f,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):d(t,l)}function S(t){var e,n=T(t);return 0===n&&((e=t.state).window_size=2*e.w_size,m(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function O(t,e,n,r,o,a){if(!t)return l;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||8!==n||r<8||15<r||e<0||9<e||a<0||4<a)return d(t,l);8===r&&(r=9);var u=new E;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,S(t)}r=[new k(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(w(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,g(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-h&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(g(t,!1),t.strm.avail_out),1)})),new k(4,4,8,4,x),new k(4,5,16,8,x),new k(4,6,32,32,x),new k(4,4,16,16,A),new k(8,16,32,32,A),new k(8,16,128,128,A),new k(8,32,128,256,A),new k(32,128,258,1024,A),new k(32,258,258,4096,A)],n.deflateInit=function(t,e){return O(t,e,8,15,8,0)},n.deflateInit2=O,n.deflateReset=S,n.deflateResetKeep=T,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?l:(t.state.gzhead=e,0):l},n.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||5<e||e<0)return t?d(t,l):l;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return d(t,0===t.avail_out?-5:l);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=f);else{var h=8+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=f,y(i,h),0!==i.strstart&&(y(i,t.adler>>>16),y(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),_(t),a=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),_(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),_(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(t),i.pending+2<=i.pending_buf_size&&(v(i,255&t.adler),v(i,t.adler>>8&255),t.adler=0,i.status=f)):i.status=f),0!==i.pending){if(_(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&p(e)<=p(n)&&4!==e)return d(t,-5);if(666===i.status&&0!==t.avail_in)return d(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var b=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(w(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=c){if(w(t),t.lookahead<=c&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=c-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==b&&4!==b||(i.status=666),1===b||3===b)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===b&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&t.adler),v(i,t.adler>>8&255),v(i,t.adler>>16&255),v(i,t.adler>>24&255),v(i,255&t.total_in),v(i,t.total_in>>8&255),v(i,t.total_in>>16&255),v(i,t.total_in>>24&255)):(y(i,t.adler>>>16),y(i,65535&t.adler)),_(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==f&&666!==e?d(t,l):(t.state=null,e===f?d(t,-3):0):l},n.deflateSetDictionary=function(t,e){var n,r,o,s,u,c,h,f,d=e.length;if(!t||!t.state)return l;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return l;for(1===s&&(t.adler=a(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,d-n.w_size,n.w_size,0),e=f,d=n.w_size),u=t.avail_in,c=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,w(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=h,t.avail_in=u,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,d,p,m,_,g,v,y,b,w,x,A,k,E,T;n=t.state,r=t.next_in,E=t.input,i=r+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,d=n.hold,p=n.bits,m=n.lencode,_=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),y=m[d&g];e:for(;;){if(d>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))T[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=m[(65535&y)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&y,(b&=15)&&(p<b&&(d+=E[r++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=E[r++]<<p,p+=8,d+=E[r++]<<p,p+=8),y=_[d&v];n:for(;;){if(d>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=_[(65535&y)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&y,p<(b&=15)&&(d+=E[r++]<<p,(p+=8)<b&&(d+=E[r++]<<p,p+=8)),u<(x+=d&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,(b=o-a)<x){if(c<(b=x-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=f,(A=0)===h){if(A+=l-b,b<w){for(w-=b;T[o++]=f[A++],--b;);A=o-x,k=T}}else if(h<b){if(A+=l+h-b,(b-=h)<w){for(w-=b;T[o++]=f[A++],--b;);if(A=0,h<w){for(w-=b=h;T[o++]=f[A++],--b;);A=o-x,k=T}}}else if(A+=h-b,b<w){for(w-=b;T[o++]=f[A++],--b;);A=o-x,k=T}for(;2<w;)T[o++]=k[A++],T[o++]=k[A++],T[o++]=k[A++],w-=3;w&&(T[o++]=k[A++],1<w&&(T[o++]=k[A++]))}else{for(A=o-x;T[o++]=T[A++],T[o++]=T[A++],T[o++]=T[A++],2<(w-=3););w&&(T[o++]=T[A++],1<w&&(T[o++]=T[A++]))}break}}break}}while(r<i&&o<s);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},{}],49:[function(t,e,n){"use strict";var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),s=t("./inftrees"),u=-2;function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):u}function f(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,h(t)):u}function d(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?u:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,f(t))):u}function p(t,e){var n,r;return t?(r=new c,(t.state=r).window=null,0!==(n=d(t,e))&&(t.state=null),n):u}var m,_,g=!0;function v(t){if(g){var e;for(m=new r.Buf32(512),_=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,_,0,t.work,{bits:5}),g=!1}t.lencode=m,t.lenbits=9,t.distcode=_,t.distbits=5}function y(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=f,n.inflateReset2=d,n.inflateResetKeep=h,n.inflateInit=function(t){return p(t,15)},n.inflateInit2=p,n.inflate=function(t,e){var n,c,h,f,d,p,m,_,g,b,w,x,A,k,E,T,S,O,C,F,P,I,D,M,B=0,R=new r.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return u;12===(n=t.state).mode&&(n.mode=13),d=t.next_out,h=t.output,m=t.avail_out,f=t.next_in,c=t.input,p=t.avail_in,_=n.hold,g=n.bits,b=p,w=m,I=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(2&n.wrap&&35615===_){R[n.check=0]=255&_,R[1]=_>>>8&255,n.check=o(n.check,R,2,0),g=_=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&_)<<8)+(_>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&_)){t.msg="unknown compression method",n.mode=30;break}if(g-=4,P=8+(15&(_>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,t.adler=n.check=1,n.mode=512&_?10:12,g=_=0;break;case 2:for(;g<16;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(n.flags=_,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=_>>8&1),512&n.flags&&(R[0]=255&_,R[1]=_>>>8&255,n.check=o(n.check,R,2,0)),g=_=0,n.mode=3;case 3:for(;g<32;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.head&&(n.head.time=_),512&n.flags&&(R[0]=255&_,R[1]=_>>>8&255,R[2]=_>>>16&255,R[3]=_>>>24&255,n.check=o(n.check,R,4,0)),g=_=0,n.mode=4;case 4:for(;g<16;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.head&&(n.head.xflags=255&_,n.head.os=_>>8),512&n.flags&&(R[0]=255&_,R[1]=_>>>8&255,n.check=o(n.check,R,2,0)),g=_=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.length=_,n.head&&(n.head.extra_len=_),512&n.flags&&(R[0]=255&_,R[1]=_>>>8&255,n.check=o(n.check,R,2,0)),g=_=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(x=n.length)&&(x=p),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,f,x,P)),512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;for(x=0;P=c[f+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&x<p;);if(512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,P)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;for(x=0;P=c[f+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&x<p;);if(512&n.flags&&(n.check=o(n.check,c,x,f)),p-=x,f+=x,P)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(_!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}g=_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}t.adler=n.check=l(_),g=_=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=d,t.avail_out=m,t.next_in=f,t.avail_in=p,n.hold=_,n.bits=g,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){_>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}switch(n.last=1&_,g-=1,3&(_>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==e)break;_>>>=2,g-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}_>>>=2,g-=2;break;case 14:for(_>>>=7&g,g-=7&g;g<32;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if((65535&_)!=(_>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&_,g=_=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(p<x&&(x=p),m<x&&(x=m),0===x)break t;r.arraySet(h,c,f,x,d),p-=x,f+=x,m-=x,d+=x,n.length-=x;break}n.mode=12;break;case 17:for(;g<14;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(n.nlen=257+(31&_),_>>>=5,g-=5,n.ndist=1+(31&_),_>>>=5,g-=5,n.ncode=4+(15&_),_>>>=4,g-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.lens[N[n.have++]]=7&_,_>>>=3,g-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,I){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(B=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,S=65535&B,!((E=B>>>24)<=g);){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(S<16)_>>>=E,g-=E,n.lens[n.have++]=S;else{if(16===S){for(M=E+2;g<M;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(_>>>=E,g-=E,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],x=3+(3&_),_>>>=2,g-=2}else if(17===S){for(M=E+3;g<M;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}g-=E,P=0,x=3+(7&(_>>>=E)),_>>>=3,g-=3}else{for(M=E+7;g<M;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}g-=E,P=0,x=11+(127&(_>>>=E)),_>>>=7,g-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,D={bits:n.lenbits},I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,I){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,I){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=p&&258<=m){t.next_out=d,t.avail_out=m,t.next_in=f,t.avail_in=p,n.hold=_,n.bits=g,a(t,w),d=t.next_out,h=t.output,m=t.avail_out,f=t.next_in,c=t.input,p=t.avail_in,_=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(B=n.lencode[_&(1<<n.lenbits)-1])>>>16&255,S=65535&B,!((E=B>>>24)<=g);){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(T&&0==(240&T)){for(O=E,C=T,F=S;T=(B=n.lencode[F+((_&(1<<O+C)-1)>>O)])>>>16&255,S=65535&B,!(O+(E=B>>>24)<=g);){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}_>>>=O,g-=O,n.back+=O}if(_>>>=E,g-=E,n.back+=E,n.length=S,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(M=n.extra;g<M;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.length+=_&(1<<n.extra)-1,_>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(B=n.distcode[_&(1<<n.distbits)-1])>>>16&255,S=65535&B,!((E=B>>>24)<=g);){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(0==(240&T)){for(O=E,C=T,F=S;T=(B=n.distcode[F+((_&(1<<O+C)-1)>>O)])>>>16&255,S=65535&B,!(O+(E=B>>>24)<=g);){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}_>>>=O,g-=O,n.back+=O}if(_>>>=E,g-=E,n.back+=E,64&T){t.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(M=n.extra;g<M;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}n.offset+=_&(1<<n.extra)-1,_>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===m)break t;if(x=w-m,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}A=x>n.wnext?(x-=n.wnext,n.wsize-x):n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=h,A=d-n.offset,x=n.length;for(m<x&&(x=m),m-=x,n.length-=x;h[d++]=k[A++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===m)break t;h[d++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===p)break t;p--,_|=c[f++]<<g,g+=8}if(w-=m,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?o(n.check,h,w,d-w):i(n.check,h,w,d-w)),w=m,(n.flags?_:l(_))!==n.check){t.msg="incorrect data check",n.mode=30;break}g=_=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===p)break t;p--,_+=c[f++]<<g,g+=8}if(_!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}g=_=0}n.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return u}return t.next_out=d,t.avail_out=m,t.next_in=f,t.avail_in=p,n.hold=_,n.bits=g,(n.wsize||w!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&y(t,t.output,t.next_out,w-t.avail_out)?(n.mode=31,-4):(b-=t.avail_in,w-=t.avail_out,t.total_in+=b,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?o(n.check,h,w,t.next_out-w):i(n.check,h,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===w||4===e)&&0===I&&(I=-5),I)},n.inflateEnd=function(t){if(!t||!t.state)return u;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?u:((n.head=e).done=!1,0):u},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?u:11===n.mode&&i(1,e,r,0)!==n.check?-3:y(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,l,c,h,f){var d,p,m,_,g,v,y,b,w,x=f.bits,A=0,k=0,E=0,T=0,S=0,O=0,C=0,F=0,P=0,I=0,D=null,M=0,B=new r.Buf16(16),R=new r.Buf16(16),N=null,L=0;for(A=0;A<=15;A++)B[A]=0;for(k=0;k<u;k++)B[e[n+k]]++;for(S=x,T=15;1<=T&&0===B[T];T--);if(T<S&&(S=T),0===T)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(E=1;E<T&&0===B[E];E++);for(S<E&&(S=E),A=F=1;A<=15;A++)if(F<<=1,(F-=B[A])<0)return-1;if(0<F&&(0===t||1!==T))return-1;for(R[1]=0,A=1;A<15;A++)R[A+1]=R[A]+B[A];for(k=0;k<u;k++)0!==e[n+k]&&(h[R[e[n+k]]++]=k);if(v=0===t?(D=N=h,19):1===t?(D=i,M-=257,N=o,L-=257,256):(D=a,N=s,-1),A=E,g=c,C=k=I=0,m=-1,_=(P=1<<(O=S))-1,1===t&&852<P||2===t&&592<P)return 1;for(;;){for(y=A-C,w=h[k]<v?(b=0,h[k]):h[k]>v?(b=N[L+h[k]],D[M+h[k]]):(b=96,0),d=1<<A-C,E=p=1<<O;l[g+(I>>C)+(p-=d)]=y<<24|b<<16|w|0,0!==p;);for(d=1<<A-1;I&d;)d>>=1;if(0!==d?(I&=d-1,I+=d):I=0,k++,0==--B[A]){if(A===T)break;A=e[n+h[k]]}if(S<A&&(I&_)!==m){for(0===C&&(C=S),g+=E,F=1<<(O=A-C);O+C<T&&!((F-=B[O+C])<=0);)O++,F<<=1;if(P+=1<<O,1===t&&852<P||2===t&&592<P)return 1;l[m=I&_]=S<<24|O<<16|g-c|0}}return 0!==I&&(l[g+I]=A-C<<24|64<<16|0),f.bits=S,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var r=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var o=15,a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var h=new Array(60);i(h);var f=new Array(512);i(f);var d=new Array(256);i(d);var p=new Array(29);i(p);var m,_,g,v=new Array(30);function y(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?f[t]:f[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function A(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){A(t,n[2*e],n[2*e+1])}function E(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function T(t,e,n){var r,i,a=new Array(16),s=0;for(r=1;r<=o;r++)a[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var u=t[2*i+1];0!==u&&(t[2*i]=E(a[u]++,u))}}function S(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function O(t){8<t.bi_valid?x(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function F(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function P(t,e,n){var r,i,o,u,l=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],i=t.pending_buf[t.l_buf+l],l++,0===r?k(t,i,e):(k(t,(o=d[i])+256+1,e),0!==(u=a[o])&&A(t,i-=p[o],u),k(t,o=w(--r),n),0!==(u=s[o])&&A(t,r-=v[o],u)),l<t.last_lit;);k(t,256,e)}function I(t,e){var n,r,i,a=e.dyn_tree,s=e.stat_desc.static_tree,u=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,u&&(t.static_len-=s[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)F(t,a,n);for(i=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],F(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,F(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,s,u,l=e.dyn_tree,c=e.max_code,h=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,m=e.stat_desc.max_length,_=0;for(a=0;a<=o;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)m<(a=l[2*l[2*(r=t.heap[n])+1]+1]+1)&&(a=m,_++),l[2*r+1]=a,c<r||(t.bl_count[a]++,s=0,p<=r&&(s=d[r-p]),u=l[2*r],t.opt_len+=u*(a+s),f&&(t.static_len+=u*(h[2*r+1]+s)));if(0!==_){do{for(a=m-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[m]--,_-=2}while(0<_);for(a=m;0!==a;a--)for(r=t.bl_count[a];0!==r;)c<(i=t.heap[--n])||(l[2*i+1]!==a&&(t.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(t,e),T(a,c,t.bl_count)}function D(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=i,l=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}function M(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<l)for(;k(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==o&&(k(t,i,t.bl_tree),s--),k(t,16,t.bl_tree),A(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),A(t,s-3,3)):(k(t,18,t.bl_tree),A(t,s-11,7));o=i,l=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}i(v);var B=!1;function R(t,e,n,i){var o,a,s;A(t,0+(i?1:0),3),a=e,s=n,O(o=t),x(o,s),x(o,~s),r.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}n._tr_init=function(t){B||(function(){var t,e,n,r,i,l=new Array(16);for(r=n=0;r<28;r++)for(p[r]=n,t=0;t<1<<a[r];t++)d[n++]=r;for(d[n-1]=r,r=i=0;r<16;r++)for(v[r]=i,t=0;t<1<<s[r];t++)f[i++]=r;for(i>>=7;r<30;r++)for(v[r]=i<<7,t=0;t<1<<s[r]-7;t++)f[256+i++]=r;for(e=0;e<=o;e++)l[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,l[8]++;for(;t<=255;)c[2*t+1]=9,t++,l[9]++;for(;t<=279;)c[2*t+1]=7,t++,l[7]++;for(;t<=287;)c[2*t+1]=8,t++,l[8]++;for(T(c,287,l),t=0;t<30;t++)h[2*t+1]=5,h[2*t]=E(t,5);m=new y(c,a,257,286,o),_=new y(h,s,0,30,o),g=new y(new Array(0),u,0,19,7)}(),B=!0),t.l_desc=new b(t.dyn_ltree,m),t.d_desc=new b(t.dyn_dtree,_),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,S(t)},n._tr_stored_block=R,n._tr_flush_block=function(t,e,n,r){var i,o,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),a=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?R(t,e,n,r):4===t.strategy||o===i?(A(t,2+(r?1:0),3),P(t,c,h)):(A(t,4+(r?1:0),3),function(t,e,n,r){var i;for(A(t,e-257,5),A(t,n-1,5),A(t,r-4,4),i=0;i<r;i++)A(t,t.bl_tree[2*l[i]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),P(t,t.dyn_ltree,t.dyn_dtree)),S(t),r&&O(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;A(t,2,3),k(t,256,c),16===(e=t).bi_valid?(x(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof r?r:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}).call(this,n("yLpj"),n("HDXh").Buffer,n("URgk").setImmediate)},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}});